<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Create an empty assumtions data.frame for generate_progression
Generate Dataset with changing hazards after disease progression
Calculate progression rate from proportion of patients who progress
Calculate hr after onset of treatment effect"><title>Create an empty assumtions data.frame for generate_progression — assumptions_progression • SimNPH</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an empty assumtions data.frame for generate_progression — assumptions_progression"><meta property="og:description" content="Create an empty assumtions data.frame for generate_progression
Generate Dataset with changing hazards after disease progression
Calculate progression rate from proportion of patients who progress
Calculate hr after onset of treatment effect"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SimNPH</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/vignettes_prebuild/simple_example.html">Examples for the Usage of the SimNPH Package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SimNPH/SimNPH/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create an empty assumtions data.frame for generate_progression</h1>
      <small class="dont-index">Source: <a href="https://github.com/SimNPH/SimNPH/blob/HEAD/R/generate_progression.R" class="external-link"><code>R/generate_progression.R</code></a></small>
      <div class="d-none name"><code>generate_progression.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create an empty assumtions data.frame for generate_progression</p>
<p>Generate Dataset with changing hazards after disease progression</p>
<p>Calculate progression rate from proportion of patients who progress</p>
<p>Calculate hr after onset of treatment effect</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">assumptions_progression</span><span class="op">(</span>print <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">generate_progression</span><span class="op">(</span><span class="va">condition</span>, fixed_objects <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">true_summary_statistics_progression</span><span class="op">(</span></span>
<span>  <span class="va">Design</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"os"</span>,</span>
<span>  cutoff_stats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fixed_objects <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  milestones <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">progression_rate_from_progression_prop</span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cen_rate_from_cen_prop_progression</span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">hazard_before_progression_from_PH_effect_size</span><span class="op">(</span></span>
<span>  <span class="va">design</span>,</span>
<span>  target_power_ph <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  final_events <span class="op">=</span> <span class="cn">NA_real_</span>,</span>
<span>  target_alpha <span class="op">=</span> <span class="fl">0.025</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>print</dt>
<dd><p>print code to generate parameter set?</p></dd>


<dt>condition</dt>
<dd><p>condition row of Design dataset</p></dd>


<dt>fixed_objects</dt>
<dd><p>additional settings, see details</p></dd>


<dt>Design</dt>
<dd><p>Design data.frame for subgroup</p></dd>


<dt>what</dt>
<dd><p>True summary statistics for which estimand</p></dd>


<dt>cutoff_stats</dt>
<dd><p>(optionally named) cutoff time, see details</p></dd>


<dt>milestones</dt>
<dd><p>(optionally named) vector of times at which milestone survival should be calculated</p></dd>


<dt>design</dt>
<dd><p>design data.frame</p></dd>


<dt>target_power_ph</dt>
<dd><p>target power under proportional hazards</p></dd>


<dt>final_events</dt>
<dd><p>target events for inversion of Schönfeld Formula, defaults to <code>condition$final_events</code></p></dd>


<dt>target_alpha</dt>
<dd><p>target one-sided alpha level for the power calculation</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For generate_progression: a design tibble with default values invisibly</p>


<p>For generate_progression: A dataset with the columns t (time) and trt
(1=treatment, 0=control), evt (event, currently TRUE for all observations),
t_ice (time of intercurrent event), ice (intercurrent event)</p>


<p>For true_summary_statistics_subgroup: the design data.frame
passed as argument with the additional columns</p>


<p>For progression_rate_from_progression_prop: the design data.frame passed as
argument with the additional columns prog_rate_trt, prog_rate_ctrl</p>


<p>for cen_rate_from_cen_prop_progression: design data.frame with the
additional column random_withdrawal</p>


<p>For hazard_before_progression_from_PH_effect_size: the design
data.frame passed as argument with the additional column hazard_trt.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>assumptions_progression generates a default design <code>data.frame</code> for
use with generate_progression If print is <code>TRUE</code> code to produce the
template is also printed for copying, pasting and editing by the user.
(This is the default when run in an interactive session.)</p>
<p>Condidtion has to contain the following columns:</p><ul><li><p>n_trt number of paitents in treatment arm</p></li>
<li><p>n_ctrl number of patients in control arm</p></li>
<li><p>hazard_ctrl hazard in the control arm</p></li>
<li><p>hazard_trt hazard in the treatment arm for not cured patients</p></li>
<li><p>hazard_after_prog hazard after disease progression</p></li>
<li><p>prog_rate_ctrl hazard rate for disease progression unter control</p></li>
<li><p>prog_rate_trt hazard rate for disease progression unter treatment</p></li>
</ul><p><code>what</code> can be <code>"os"</code> for overall survival and <code>"pfs"</code> for progression free
survival.</p>
<p>The if <code>fixed_objects</code> contains <code>t_max</code> then this value is used as the
maximum time to calculate function like survival, hazard, ... of the data
generating models. If this is not given <code>t_max</code> is choosen as the minimum of
the <code>1-(1/10000)</code> quantile of all survival distributions in the model.</p>
<p><code>cutoff_stats</code> are the times used to calculate the statistics like average
hazard ratios and RMST, that are only calculated up to a certain point.</p>
<p>For progression_rate_from_progression_prop, the design data.frame,
has to contain the columns <code>prog_prop_trt</code> and <code>prog_prop_ctrl</code> with the
proportions of patients, who progress in the respective arms.</p>
<p>cen_rate_from_cen_prop_progression takes the proportion of
censored patients from the column <code>censoring_prop</code>. This column describes
the proportion of patients who are censored randomly before experiencing an
event, without regard to administrative censoring.</p>
<p><code>hazard_before_progression_from_PH_effect_size</code> calculates the
hazard ratio after onset of treatment effect as follows: First calculate
the hazard in the control arm that would give the same median survival
under an exponential model. Then calculate the median survival in the
treatment arm that would give the desired power of the logrank test under
exponential models in control and treatment arm. Then callibrate the hazard
before progression in the treatment arm to give the same median survival
time.</p>
<p>This is a heuristic and to some extent arbitrary approach to calculate
hazard ratios that correspond to reasonable and realistic scenarios.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>assumptions_progression()</code>: generate default assumptions <code>data.frame</code></p></li>
<li><p><code>generate_progression()</code>: simulates a dataset with changing hazards after disease progression</p></li>
<li><p><code>true_summary_statistics_progression()</code>: calculate true summary statistics for scenarios with disease progression</p></li>
<li><p><code>progression_rate_from_progression_prop()</code>: Calculate progression rate from proportion of patients who progress</p></li>
<li><p><code>cen_rate_from_cen_prop_progression()</code>: calculate censoring rate from censoring proportion</p></li>
<li><p><code>hazard_before_progression_from_PH_effect_size()</code>: Calculate hazard in the treatment arm before progression from PH effect size</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">Design</span> <span class="op">&lt;-</span> <span class="fu">assumptions_progression</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Design</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   random_withdrawal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.0001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.0001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0.0001897734</span>
<span class="r-in"><span><span class="va">one_simulation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">assumptions_progression</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="design_fixed_followup.html">design_fixed_followup</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    by<span class="op">=</span><span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">generate_progression</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">one_simulation</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      t trt  evt t_ice   ice</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  652   1 TRUE   587  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  557   1 TRUE   552  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1124   1 TRUE   372  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  123   1 TRUE   Inf FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  547   1 TRUE   448  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  614   1 TRUE   245  TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">one_simulation</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       t trt  evt t_ice   ice</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 295 472   0 TRUE   Inf FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 296 501   0 TRUE   453  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 297 221   0 TRUE   219  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 298 274   0 TRUE   Inf FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 299 186   0 TRUE    80  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 300 619   0 TRUE   Inf FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">assumptions_progression</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="design_fixed_followup.html">design_fixed_followup</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  by<span class="op">=</span><span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_design_os</span>  <span class="op">&lt;-</span> <span class="fu">true_summary_statistics_progression</span><span class="op">(</span><span class="va">my_design</span>, <span class="st">"os"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_design_pfs</span> <span class="op">&lt;-</span> <span class="fu">true_summary_statistics_progression</span><span class="op">(</span><span class="va">my_design</span>, <span class="st">"pfs"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_design_os</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   random_withdrawal n_trt n_ctrl followup recruitment median_survival_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.0001897734   150    150    730.5     182.625            479.4919</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.0001897734   150    150    730.5     182.625            532.4814</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0.0001897734   150    150    730.5     182.625            555.2914</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   median_survival_ctrl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             421.3531</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             421.3531</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             421.3531</span>
<span class="r-in"><span><span class="va">my_design_pfs</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   random_withdrawal n_trt n_ctrl followup recruitment median_survival_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.0001897734   150    150    730.5     182.625            273.9375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.0001897734   150    150    730.5     182.625            337.1538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0.0001897734   150    150    730.5     182.625            365.2500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   median_survival_ctrl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                243.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                243.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                243.5</span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">assumptions_progression</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="design_fixed_followup.html">design_fixed_followup</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    by<span class="op">=</span><span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">prog_rate_ctrl</span> <span class="op">&lt;-</span> <span class="cn">NA_real_</span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">prog_rate_trt</span> <span class="op">&lt;-</span> <span class="cn">NA_real_</span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">prog_prop_trt</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">prog_prop_ctrl</span> <span class="op">&lt;-</span> <span class="fl">0.3</span></span></span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu">progression_rate_from_progression_prop</span><span class="op">(</span><span class="va">my_design</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_design</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   random_withdrawal n_trt n_ctrl followup recruitment prog_prop_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.0001897734   150    150    730.5     182.625           0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.0001897734   150    150    730.5     182.625           0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0.0001897734   150    150    730.5     182.625           0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   prog_prop_ctrl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            0.3</span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>hazard_ctrl         <span class="op">=</span> <span class="fu"><a href="r2m.html">m2r</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span>,          <span class="co"># hazard under control</span></span></span>
<span class="r-in"><span>hazard_trt          <span class="op">=</span> <span class="fu"><a href="r2m.html">m2r</a></span><span class="op">(</span><span class="fl">18</span><span class="op">)</span>,          <span class="co"># hazard under treatment</span></span></span>
<span class="r-in"><span>hazard_after_prog   <span class="op">=</span> <span class="fu"><a href="r2m.html">m2r</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,           <span class="co"># hazard after progression</span></span></span>
<span class="r-in"><span>prog_rate_ctrl      <span class="op">=</span> <span class="fu"><a href="r2m.html">m2r</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,          <span class="co"># hazard for disease progression under control</span></span></span>
<span class="r-in"><span>prog_rate_trt       <span class="op">=</span> <span class="fu"><a href="r2m.html">m2r</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">16</span>,<span class="fl">18</span><span class="op">)</span><span class="op">)</span>, <span class="co"># hazard for disease progression under treatment</span></span></span>
<span class="r-in"><span>censoring_prop      <span class="op">=</span> <span class="fl">0.1</span>,              <span class="co"># rate of random withdrawal</span></span></span>
<span class="r-in"><span>followup            <span class="op">=</span> <span class="fl">100</span>,              <span class="co"># follow up time</span></span></span>
<span class="r-in"><span>n_trt               <span class="op">=</span> <span class="fl">50</span>,               <span class="co"># patients in treatment arm</span></span></span>
<span class="r-in"><span>n_ctrl              <span class="op">=</span> <span class="fl">50</span>                <span class="co"># patients in control arm</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cen_rate_from_cen_prop_progression</span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   hazard_ctrl  hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.001518187 0.001265156       0.007590934    0.001897734   0.001897734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.001518187 0.001265156       0.007590934    0.001897734   0.001423300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.001518187 0.001265156       0.007590934    0.001897734   0.001265156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   censoring_prop followup n_trt n_ctrl random_withdrawal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            0.1      100    50     50      0.0001268863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            0.1      100    50     50      0.0001272055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            0.1      100    50     50      0.0001275449</span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="design_fixed_followup.html">design_fixed_followup</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu">assumptions_progression</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  by<span class="op">=</span><span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">hazard_trt</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">my_design</span><span class="op">$</span><span class="va">final_events</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="fl">0.75</span> <span class="op">*</span> <span class="op">(</span><span class="va">my_design</span><span class="op">$</span><span class="va">n_trt</span> <span class="op">+</span> <span class="va">my_design</span><span class="op">$</span><span class="va">n_ctrl</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu">hazard_before_progression_from_PH_effect_size</span><span class="op">(</span><span class="va">my_design</span>, target_power_ph<span class="op">=</span><span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  <span style="color: #00BB00;">■■■■■■■■■■■                     </span>  33% |  ETA:  3s</span>
<span class="r-in"><span><span class="va">my_design</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_trt n_ctrl followup recruitment  hazard_ctrl hazard_after_prog</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   150    150    730.5     182.625 0.0009488668       0.003795467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   150    150    730.5     182.625 0.0009488668       0.003795467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   150    150    730.5     182.625 0.0009488668       0.003795467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   prog_rate_ctrl prog_rate_trt random_withdrawal final_events   hazard_trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0.001897734   0.001897734      0.0001897734          225 0.0001872067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    0.001897734   0.001423300      0.0001897734          225 0.0004463965</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    0.001897734   0.001265156      0.0001897734          225 0.0005312536</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tobias Fellinger, Florian Klinglmueller.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

