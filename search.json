[{"path":[]},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"reporting-issues","dir":"","previous_headings":"","what":"Reporting Issues","title":"Contributing to the SimNPH package","text":"Please report issues package, including documentation suggestions enhancements projects github issues.","code":""},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"extending-simnph","dir":"","previous_headings":"","what":"Extending SimNPH","title":"Contributing to the SimNPH package","text":"can extend functions package, either use contribute enhancements package. common ways extending package probably add data generating mechanisms additional analysis functions methods want evaluate. cases function skeletons good starting point.","code":""},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"data-generating-models","dir":"","previous_headings":"Extending SimNPH","what":"Data Generating Models","title":"Contributing to the SimNPH package","text":"Functions generate datasets named beginning generate_ descriptive name scenario simulate. order work SimDesign package, function take arguments condition fixed_objects. condition one row data.frame contains parameters scenario simulated. fixed_objects list variables, across secenarios passed. Generate functions come assumptions_... function outputs code generate default dataset parameters relevant data generation model, can used construct Design dataset. assumptions_... function also return dataset created printed code invisibly. Implement function R file generate_... function document documentation generate_... function using roxygen tag @describein. ’s boilerplate generate assumptions functions, can just copy fill code:","code":"#' Generate Dataset ... #' #' @param condition condition row of Design dataset #' @param fixed_objects fixed objects of Design dataset #' #' @details #' Condidtion has to contain the following columns: #' #'   * X ... #'   * Y ... #'   * ... #' #' @return #' For generate_x: A dataset with the columns t (time) and trt #' (1=treatment, 0=control), evt (event, currently TRUE for all observations) #' #' @export #' @describeIn generate_x simulates a dataset with ... #' #' @examples generate_x <- function(condition, fixed_objects=NULL){    data.frame(t=numeric(0), trt=integer(0), evt=logical(0)) }  #' Create an empty assumtions data.frame for generate_x #' #' @return For assumptions_x: a design tibble with default values invisibly #' #' @details assumptions_x prints the code to generate a default #'   design tibble for use with generate_delayed_effect and returns the #'   evaluated code invisibly. This function is intended to be used to copy #'   paste the code and edit the parameters. #' #' @export #' @describeIn generate_x generate default design tibble #' #' @examples #' Design <- assumptions_x() #' Design assumptions_delayed_effect <- function(){   skel <- \"expand.grid(   X = 1:3,   Y = c(\"a\", \"b\") ) \"  cat(skel) invisible(   skel |>     str2expression() |>     eval() ) }  #' Calculate true summary statistics for scenarios with delayed treatment effect #' #' @param Design Design data.frame for x #' @param cutoff_stats Cutoff time for rmst and average hazard ratios #' @param fixed_objects fixed objects not used for now #' #' @return For true_summary_statistics_x: the design data.frame #'   passed as argument with the additional columns: #' * `rmst_trt` rmst in the treatment group #' * `median_surv_trt` median survival in the treatment group #' * `rmst_ctrl` rmst in the control group #' * `median_surv_ctrl` median survial in the control group #' * `gAHR` geometric average hazard ratio #' * `AHR` average hazard ratio #' #' @export #' #' @describeIn generate_x  calculate true summary statistics for ... #' #' @examples true_summary_statistics_x <- function(Design, cutoff_stats=10, fixed_objects=NULL){    true_summary_statistics_x_rowwise <- function(condition, cutoff_stats){     res <- data.frame(       rmst_trt = NA_real_,       medial_surv_trt = NA_real_,       rmst_ctrl = NA_real_,       median_surv_ctrl = NA_real_,       gAHR = NA_real_,       AHR = NA_real_     )          res   }    Design <- Design |>     split(1:nrow(Design)) |>     mapply(FUN=true_summary_statistics_x_rowwise, cutoff_stats = cutoff_stats, SIMPLIFY = FALSE)    Design <- do.call(rbind, Design)    Design }"},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"analysis-functions","dir":"","previous_headings":"Extending SimNPH","what":"Analysis Functions","title":"Contributing to the SimNPH package","text":"Analysis functions take parameters regarding analysis method (example weights weighted logrank test) return function can used SimDesigns runSimulation. use function analysis function runSimulation take arguments condition, dat, fixed_objects. Condition fixed_objects generate_... functions. dat Dataset generated generate_... function. dat contains least columns t, trt, evt time, treatment event. order work summarise functions package, analysis functions return list. (Unfortunately vectors data.frames concatenated SimDesign useful way, lists passed .) function requires summaries complex general functions estimators tests provide summarise function file analysis method.","code":"#' Create Analyse Functions for ... #' #' @param X #' #' @return an analyse function that can be used in runSimulation #' @export #' analyse_X <- function(X){   function(condition, dat, fixed_objects = NULL){     result_tmp <- list(       A = NA_real_,       N_pat=nrow(dat),       N_evt=sum(dat$evt)     )      result_tmp   } }   #' Summarise Output from Analyse Functions for ... #' #' @param X #' #' @describeIn analyse_X Summarise Output from Analyse X #' #' @return #' Returns a function with the arguments: #'  * condition #'  * results #'  * fixed objects #' #' that can be passed to create_summarise_function or to #' SimDesign::runSimulation and that returns a `data.frame` with the columns #'  * `Y` ... #'  * ... #' #' @export #' #' @examples summarise_x <- function(name=NULL){   res <- function(condition, results, fixed_objects=NULL){     data.frame(       \"Y\"=NA_real_     )   }    attr(res, \"name\") <- name    res }"},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"functions-for-censoring-and-experiment-designs","dir":"","previous_headings":"Extending SimNPH","what":"Functions for Censoring and Experiment Designs","title":"Contributing to the SimNPH package","text":"Different study setups also implemented via functions manipulate simulated dataset. example apply administrative censoring fixed followup time, first recruitment time sampled uniform distribution using function recruitment_uniform observations censored according survival time, recruitment time follwup time using function admin_censoring_time. can also combined random censoring fixed rate, … functions take simulated dataset first argument arguments later positions can used pipes.","code":"#' Modify a simulated dataset by ... #' #' @param dat a simulated dataset #' @param X ... #' @param ... #' #' @return #' Returns the dataset with ... #' @export #' #' @examples censoring_function_x <- function(dat, X){   dat$X <- X   dat }"},{"path":[]},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"project-structure","dir":"","previous_headings":"Contributing Changes to the Package","what":"Project Structure","title":"Contributing to the SimNPH package","text":"folder structure follows structure typical R package. Documentation NAMESPACE file generated roxygen, don’t edit files manually. Unit tests using testthat tests/testthat filenames corresponding filenames functions tested. package uses devtools, , testthat roxygen2 packages facilitate package development, packages conveniently integrated within rstudio.","code":""},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"coding-style","dir":"","previous_headings":"Contributing Changes to the Package","what":"Coding Style","title":"Contributing to the SimNPH package","text":"Please roughly keep tidyverse styleguide using functions packages (nph, cmprsk, …) refer namespace (example nph::rSurv_fun). DESCRIPTION file: don’t add package Depends, add package Suggests Imports.","code":""},{"path":"https://simnph.github.io/SimNPH/CONTRIBUTING.html","id":"documentation-and-tests","dir":"","previous_headings":"Contributing Changes to the Package","what":"Documentation and Tests","title":"Contributing to the SimNPH package","text":"adding functions provide documentation functions exported package namespace make sure devtools::document() runs without errors warnings. Please also add tests least test functions can called without error produce datasets right columns (name datatype). add tests file correct name correct place use usethis::use_test().","code":""},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"a-simple-scenario-with-fixed-followup","dir":"Articles > Vignettes_prebuild","previous_headings":"","what":"A simple scenario with fixed followup","title":"Examples for the Usage of the SimNPH Package","text":"simple example run simulation analyses datasets delayed treatment effect using max-combo log-rank test. ","code":""},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"setting-up-the-scenarios","dir":"Articles > Vignettes_prebuild","previous_headings":"A simple scenario with fixed followup","what":"Setting up the Scenarios","title":"Examples for the Usage of the SimNPH Package","text":"Setting simulations run. createDesign creates tibble every combination parameters. line corresponds one simulation run. function generate_delayed_effect needs columns: n_trt: number patients treatment arm, n_ctrl: number patients control arm, delay: delay onset treatment effect, hazard_ctrl: hazard control onset treatment effect, hazart_trt: hazard treatment, t_max: maximum time observation. example design tibble parameters filled can created desing_skeleton_delayed_effect. Use function output example function call can copy modify needed, assign result variable obtain design tibble default parameters. default create simulation design skeleton simulations 50 patients arm, constant hazard 0.2 control hazard 0.02 treatment effect onset varying 0 10.","code":"N_sim <- 100  Assumptions <- assumptions_delayed_effect() #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> )  Options <- design_fixed_followup() #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  Design <- merge(Assumptions, Options, by=NULL)  knitr::kable(Design)"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"defining-the-generate-funcion","dir":"Articles > Vignettes_prebuild","previous_headings":"A simple scenario with fixed followup","what":"Defining the ‘Generate’ funcion","title":"Examples for the Usage of the SimNPH Package","text":"Define data generating ‘generate’ function, beside simulating time event also applies different censoring processes.","code":"my_generator <- function(condition, fixed_objects=NULL){   generate_delayed_effect(condition, fixed_objects) |>     recruitment_uniform(condition$recruitment) |>     random_censoring_exp(condition$random_withdrawal) |>     admin_censoring_time(condition$followup) }"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"defining-the-summarise-function","dir":"Articles > Vignettes_prebuild","previous_headings":"A simple scenario with fixed followup","what":"Defining the ‘Summarise’ function","title":"Examples for the Usage of the SimNPH Package","text":"Next, need specify summary function computes desired operating characteristics simulation scenario, analysis method. example , use summary function computes power (consider scenarios alternative example) log-rank test max-combo test across simulated scenarios. scenario function just averages number times computed p-value significance level obtain power. results object contains results replications corresponding method row Design object. example results$p contains N_sim p-values returned analyse_maxcombo analyse_logrank functions respectively. Summary contain columns rejection rate summary statistics methods.","code":"alpha <- 0.05  Summarise <- create_summarise_function(   maxcombo = summarise_test(alpha),   logrank  = summarise_test(alpha) )"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"putting-it-all-together","dir":"Articles > Vignettes_prebuild","previous_headings":"A simple scenario with fixed followup","what":"Putting it all together","title":"Examples for the Usage of the SimNPH Package","text":"Now put together: Design give scenarios defined . want run 100 replications scenario. want generate data using generate_delayed_effect function using parameters Design analyse replication scenario two functions analyse_logrank analyse_maxcombo. output summarised Summarise function defined simulations run parallel. Finally select interesting columns output. Since parameters scenario just select delay. interested rejection rate tests.","code":"res <- runSimulation(   Design,   replications = N_sim,   generate = my_generator,   analyse = list(     logrank  = analyse_logrank(),     maxcombo = analyse_maxcombo()   ),   summarise = Summarise,   cl = cl,   save=FALSE ) #>  #> Number of parallel clusters in use: 8 #>  #> Simulation complete. Total execution time: 25.80s res |>    subset(select=c(\"delay\", \"maxcombo.rejection_0.05\", \"logrank.rejection_0.05\")) |>   knitr::kable()"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"a-scenario-with-an-interim-analysis","dir":"Articles > Vignettes_prebuild","previous_headings":"","what":"A scenario with an interim analysis","title":"Examples for the Usage of the SimNPH Package","text":"scenario extend scenario include fixed followup well interim analysis fixed number events. define additional analyse functions. First extend Design include column number events interim analysis done.","code":"Options <- design_group_sequential() #> expand.grid( #>   n_trt=200,          # 200 patients in the treatment arm #>   n_ctrl=200,         # 200 patients in the control arm #>   followup=m2d(48),   # maximum followup time 4 years #>   recruitment=m2d(6), # recruitment time 6 months #>   interim_events=150, # interim analysis after 150 events #>   final_events=300    # final analysis after 300 events #> )  Design <- merge(Assumptions, Options, by=NULL)  knitr::kable(Design)"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"analyse-functions-with-an-interim-analysis","dir":"Articles > Vignettes_prebuild","previous_headings":"A scenario with an interim analysis","what":"‘Analyse’ functions with an interim analysis","title":"Examples for the Usage of the SimNPH Package","text":"analyse_group_sequential function allows combine two analyse functions create analysis function corresponding group sequential design. arguments times events analyses done, nominal alpha stage analyse functions used stage.","code":"## O'Brien-Fleming Bounds for GSD with interim analysis at information time 1/2 nominal_alpha <- ldbounds::ldBounds(c(0.5,1))$nom.alpha  clusterExport(cl, \"nominal_alpha\")  Analyse <-  list(   logrank_seq  = analyse_group_sequential(     followup = c(condition$interim_events, condition$final_events),     followup_type = c(\"event\", \"event\"),     alpha = nominal_alpha,     analyse_functions = analyse_logrank()   ),   maxcombo_seq = analyse_group_sequential(     followup = c(condition$interim_events, condition$final_events),     followup_type = c(\"event\", \"event\"),     alpha = nominal_alpha,     analyse_functions = analyse_maxcombo()   ) )"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"a-summarise-function-for-the-more-complex-scenario","dir":"Articles > Vignettes_prebuild","previous_headings":"A scenario with an interim analysis","what":"A ‘Summarise’ function for the more complex scenario","title":"Examples for the Usage of the SimNPH Package","text":"output function created analyse_group_sequential contains additional columns. rejected_at_stage includes stage null first rejected Inf null rejected, N_pat N_evt contain number patients recruited number events observed null rejected followup contains time study start last analysis done. results object also includes results returned stage results_stages, use overall test-decision.","code":"Summarise <- create_summarise_function(   maxcombo_seq = summarise_group_sequential(),   logrank_seq = summarise_group_sequential() )"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"putting-it-all-together-1","dir":"Articles > Vignettes_prebuild","previous_headings":"A scenario with an interim analysis","what":"Putting it all together","title":"Examples for the Usage of the SimNPH Package","text":"call runSimulation looks almost now additional columns defined Summarise functions included result. case group sequential design also interested average running time study terms patients recruited, number events running time study.","code":"res <- runSimulation(   Design,   replications = N_sim,   generate = my_generator,   analyse = Analyse,   summarise = Summarise,   cl = cl,   save=FALSE ) #>  #> Number of parallel clusters in use: 8 #>  #> Simulation complete. Total execution time: 59.80s res |>   subset(select=c(     \"delay\",      \"maxcombo_seq.rejection\", \"logrank_seq.rejection\",     \"maxcombo_seq.n_pat\", \"logrank_seq.n_pat\",     \"maxcombo_seq.n_evt\", \"logrank_seq.n_evt\",     \"maxcombo_seq.followup\", \"logrank_seq.followup\"     )) |>   knitr::kable()"},{"path":[]},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"calculating-the-true-values-of-the-summary-statistics","dir":"Articles > Vignettes_prebuild","previous_headings":"Estimation","what":"Calculating the true values of the summary statistics","title":"Examples for the Usage of the SimNPH Package","text":"evaluate performance estimator, first compute values true summary statistics estimates compared. relevant true summary statistics can computed convenience function scenario. Just pipe Design data.frame function values statistics added columns.","code":"Options <- design_fixed_followup() #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  Design <- merge(Assumptions, Options, by=NULL)  Design <- Design |>    true_summary_statistics_delayed_effect(cutoff_stats = 20)  knitr::kable(Design)"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"defining-the-summarise-function-1","dir":"Articles > Vignettes_prebuild","previous_headings":"Estimation","what":"Defining the Summarise function","title":"Examples for the Usage of the SimNPH Package","text":"Summarise function true value estimator compared specified. coverage average width confidence intervals estimated, CI bounds also specified. arguments functions left un-evaluated later evaluated results condition datasets respectively. expressions using variables results can used estimated value CI bounds expressions using variables condition can used argument real value. case want compare hazard ratio estimated Cox model geometric average hazard ratio well hazard ratio onset treatment, calculated two respective columns Design data.frame. Note one name can used twice summarise output one analysis method two times, like case, comparing two different summary statistics.","code":"Summarise <- create_summarise_function(     coxph=summarise_estimator(hr, gAHR_20, hr_lower, hr_upper, name=\"gAHR\"),     coxph=summarise_estimator(hr, hazard_trt/hazard_ctrl, hr_lower, hr_upper, name=\"HR\")   )"},{"path":"https://simnph.github.io/SimNPH/articles/vignettes_prebuild/simple_example.html","id":"putting-it-all-together-2","dir":"Articles > Vignettes_prebuild","previous_headings":"Estimation","what":"Putting it all together","title":"Examples for the Usage of the SimNPH Package","text":"","code":"Analyse <- list(   coxph = analyse_coxph() )  res <- runSimulation(   Design,   replications = N_sim,   generate = my_generator,   analyse = Analyse,   summarise = Summarise,   cl = cl,   save=FALSE ) #>  #> Number of parallel clusters in use: 8 #>  #> Simulation complete. Total execution time: 1.96s res |>   subset(select=c(     \"delay\", \"coxph.HR.bias\", \"coxph.gAHR.bias\", \"coxph.HR.mse\",      \"coxph.gAHR.mse\", \"coxph.HR.coverage\", \"coxph.gAHR.coverage\"   )) |>    knitr::kable()"},{"path":"https://simnph.github.io/SimNPH/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tobias Fellinger. Maintainer.","code":""},{"path":"https://simnph.github.io/SimNPH/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Consortium C (2023). “Statistical methods time--event endpoints non-proportional hazards clinical trials pivotal benefit risk decision making.” https://www.encepp.eu/encepp/openAttachment/fullProtocol/49769.","code":"@Misc{,   title = {Statistical methods for time-to-event endpoints with non-proportional hazards in clinical trials pivotal for benefit risk decision making},   author = {CONFIRMS Consortium},   year = {2023},   url = {https://www.encepp.eu/encepp/openAttachment/fullProtocol/49769}, }"},{"path":"https://simnph.github.io/SimNPH/index.html","id":"simnph","dir":"","previous_headings":"","what":"Simulate Non-Proportional Hazards","title":"Simulate Non-Proportional Hazards","text":"Simulate Non Proportional Hazards package provides several functions simulate survival data non proportional hazards using general purpose simulation package SimDesign. package follows structure SimDesing provides functions can readily used generate, analyse summarise arguments SimDesign’s runSimulation function.","code":""},{"path":[]},{"path":"https://simnph.github.io/SimNPH/index.html","id":"installation","dir":"","previous_headings":"Usage","what":"Installation","title":"Simulate Non-Proportional Hazards","text":"current unstable version can installed :","code":"remotes::install_git(\"https://github.com/SimNPH/SimNPH.git\")"},{"path":"https://simnph.github.io/SimNPH/index.html","id":"getting-started","dir":"","previous_headings":"Usage","what":"Getting Started","title":"Simulate Non-Proportional Hazards","text":"Documentation functions can found respective help topics package installation examples data generation, testing estimation can found vignette.","code":""},{"path":"https://simnph.github.io/SimNPH/index.html","id":"results-of-the-simulation-study","dir":"","previous_headings":"","what":"Results of the Simulation Study","title":"Simulate Non-Proportional Hazards","text":"results simulation study done CONFIRMS consortium course EMA tender published upcoming paper presented Shiny App source code also github","code":""},{"path":"https://simnph.github.io/SimNPH/reference/SimNPH.html","id":null,"dir":"Reference","previous_headings":"","what":"SimNPH: Simulate Non Proportional Hazards — SimNPH","title":"SimNPH: Simulate Non Proportional Hazards — SimNPH","text":"package provides several functions simulate survival data non proportional hazards using general purpose simulation package SimDesign.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Add recruitment time to Dataset — recruitment_uniform","title":"Add recruitment time to Dataset — recruitment_uniform","text":"Add recruitment time Dataset Apply Administrative Censoring Fixed Time Apply Administrative Censoring Fixed Number Events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add recruitment time to Dataset — recruitment_uniform","text":"","code":"recruitment_uniform(   dat,   recruitment_until,   recruitment_from = 0,   discrete = TRUE )  admin_censoring_time(dat, followup, keep_non_recruited = FALSE)  admin_censoring_events(   dat,   events,   keep_non_recruited = FALSE,   on_incomplete = \"ignore\" )"},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add recruitment time to Dataset — recruitment_uniform","text":"dat simulated dataset recruitment_until time end recruitment recruitment_from time start recruitment (defaults 0) discrete recruitment time rounded full days? followup followup time keep_non_recruited patients recruited end study kept events number events dataset analyzed on_incomplete fewer events planned \"ignore\",\"warn\",\"stop\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add recruitment time to Dataset — recruitment_uniform","text":"Returns dataset added recruitment times. Returns dataset administrative censoring follwup, adds attribute followup followup time dataset. Returns dataset administrative censoring events events, adds attribute followup followup time dataset.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add recruitment time to Dataset — recruitment_uniform","text":"Dataset hast include column rec_time containing recruitment time well columns event times t column event indicator evt. Times event indicaotrs patients recruited followup set NA. Dataset hast include column rec_time containing recruitment time well columns event times t column event indicator evt. Times event indicaotrs patients recruited followup set NA. less events planned study end on_incomplete defines done. \"ignore\" simply returns dataset maximum observed times followup. \"warn\" gives warning. \"stop\" stopps error.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Add recruitment time to Dataset — recruitment_uniform","text":"recruitment_uniform(): add recruitment time admin_censoring_time(): apply administrative censoring fixed time admin_censoring_events(): apply administrative censoring fixed number events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/admin_censoring_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add recruitment time to Dataset — recruitment_uniform","text":"","code":"dat <- data.frame(t=c(0, 1, 2), trt=c(FALSE, FALSE, TRUE)) recruitment_uniform(dat, 7, 0) #>   t   trt rec_time #> 1 0 FALSE        2 #> 2 1 FALSE        4 #> 3 2  TRUE        1 dat <- data.frame(   t = 1:10,   rec_time = rep(1:5, each=2),   trt = rep(c(TRUE, FALSE), times=5),   evt = rep(TRUE, times=10) ) dat #>     t rec_time   trt  evt #> 1   1        1  TRUE TRUE #> 2   2        1 FALSE TRUE #> 3   3        2  TRUE TRUE #> 4   4        2 FALSE TRUE #> 5   5        3  TRUE TRUE #> 6   6        3 FALSE TRUE #> 7   7        4  TRUE TRUE #> 8   8        4 FALSE TRUE #> 9   9        5  TRUE TRUE #> 10 10        5 FALSE TRUE  admin_censoring_time(dat, 4) #>   t rec_time   trt   evt #> 1 1        1  TRUE  TRUE #> 2 2        1 FALSE  TRUE #> 3 2        2  TRUE FALSE #> 4 2        2 FALSE FALSE #> 5 1        3  TRUE FALSE #> 6 1        3 FALSE FALSE #> 7 0        4  TRUE FALSE #> 8 0        4 FALSE FALSE admin_censoring_time(dat, 4, keep_non_recruited = TRUE) #>     t rec_time   trt   evt #> 1   1        1  TRUE  TRUE #> 2   2        1 FALSE  TRUE #> 3   2        2  TRUE FALSE #> 4   2        2 FALSE FALSE #> 5   1        3  TRUE FALSE #> 6   1        3 FALSE FALSE #> 7   0        4  TRUE FALSE #> 8   0        4 FALSE FALSE #> 9  NA        5  TRUE    NA #> 10 NA        5 FALSE    NA  dat_censored <- admin_censoring_time(dat, 5) attr(dat_censored, \"followup\") #> [1] 5 dat <- data.frame(   t = 1:10,   rec_time = rep(2*(1:5), each=2),   trt = rep(c(TRUE, FALSE), times=5),   evt = rep(TRUE, times=10) ) dat #>     t rec_time   trt  evt #> 1   1        2  TRUE TRUE #> 2   2        2 FALSE TRUE #> 3   3        4  TRUE TRUE #> 4   4        4 FALSE TRUE #> 5   5        6  TRUE TRUE #> 6   6        6 FALSE TRUE #> 7   7        8  TRUE TRUE #> 8   8        8 FALSE TRUE #> 9   9       10  TRUE TRUE #> 10 10       10 FALSE TRUE  admin_censoring_events(dat, 4) #>   t rec_time   trt   evt #> 1 1        2  TRUE  TRUE #> 2 2        2 FALSE  TRUE #> 3 3        4  TRUE  TRUE #> 4 4        4 FALSE  TRUE #> 5 2        6  TRUE FALSE #> 6 2        6 FALSE FALSE #> 7 0        8  TRUE FALSE #> 8 0        8 FALSE FALSE admin_censoring_events(dat, 4, keep_non_recruited = TRUE) #>     t rec_time   trt   evt #> 1   1        2  TRUE  TRUE #> 2   2        2 FALSE  TRUE #> 3   3        4  TRUE  TRUE #> 4   4        4 FALSE  TRUE #> 5   2        6  TRUE FALSE #> 6   2        6 FALSE FALSE #> 7   0        8  TRUE FALSE #> 8   0        8 FALSE FALSE #> 9  NA       10  TRUE    NA #> 10 NA       10 FALSE    NA  dat_censored <- admin_censoring_events(dat, 4) attr(dat_censored, \"followup\") #> [1] 8"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with accelarated failure time models — analyse_aft","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"Analyse Dataset accelarated failure time models","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"","code":"analyse_aft(level = 0.95, dist = \"weibull\", alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"level confidence level CI computation dist passed survival::survreg alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"analyse function returns list elements p p value score test (two.sided) Wald test (one.sided) alternative alternative used coef coefficient trt lower lower 95% confidence intervall boundary coefficient upperlower 95% confidence intervall boundary coefficient CI_level CI level used N_pat number patients N_evt number events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_aft.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with accelarated failure time models — analyse_aft","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_aft()(condition, dat) #> $p #> [1] 0.0004580646 #>  #> $alternative #> [1] \"two.sided\" #>  #> $coef #>       trt  #> 0.4130646  #>  #> $lower #> [1] 0.1820267 #>  #> $upper #> [1] 0.6441024 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_aft(dist=\"lognormal\")(condition, dat) #> $p #> [1] 0.003297215 #>  #> $alternative #> [1] \"two.sided\" #>  #> $coef #>       trt  #> 0.4367371  #>  #> $lower #> [1] 0.1454435 #>  #> $upper #> [1] 0.7280307 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"Analyse dataset using extimators average hazard ratio","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"","code":"analyse_ahr(   max_time = NA,   type = \"AHR\",   level = 0.95,   alternative = \"two.sided\" )"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"max_time time RMST calculated type \"AHR\" average hazard ratio \"gAHR\" geometric average hazard ratio level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"Returns analysis function, can used runSimulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"implementation nph package used, see documentation details. alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control. data.frame returned created function includes follwing columns: p p value test, see Details alternative alternative used AHR/gAHR estimated (geometric) average hazard ratio AHR_lower/gAHR_lower unadjusted lower bound confidence interval (geometric) average hazard ratio AHR_upper/gAHR_upper unadjusted upper bound confidence interval (geometric) average hazard ratio CI_level CI level used N_pat number patients N_evt number events","code":""},{"path":[]},{"path":"https://simnph.github.io/SimNPH/reference/analyse_ahr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse the dataset using extimators for the the average hazard ratio — analyse_ahr","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_ahr()(condition, dat) #> $p #> [1] 0.8510477 #>  #> $alternative #> [1] \"two.sided\" #>  #> $AHR #> [1] 0.9753223 #>  #> $AHR_lower #> [1] 0.7514198 #>  #> $AHR_upper #> [1] 1.265942 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_ahr(type = \"gAHR\")(condition, dat) #> $p #> [1] 0.2958953 #>  #> $alternative #> [1] \"two.sided\" #>  #> $gAHR #> [1] 0.8844676 #>  #> $gAHR_lower #> [1] 0.7025981 #>  #> $gAHR_upper #> [1] 1.113415 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_ahr(max_time = 50, type = \"AHR\")(condition, dat) #> $p #> [1] 0.60372 #>  #> $alternative #> [1] \"two.sided\" #>  #> $AHR #> [1] 1.323593 #>  #> $AHR_lower #> [1] 0.4592078 #>  #> $AHR_upper #> [1] 3.815048 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_ahr(max_time = 50, type = \"gAHR\")(condition, dat) #> $p #> [1] 0.59458 #>  #> $alternative #> [1] \"two.sided\" #>  #> $gAHR #> [1] 1.332729 #>  #> $gAHR_lower #> [1] 0.4627609 #>  #> $gAHR_upper #> [1] 3.838198 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"Analyse Dataset Cox Protportional Hazards Model","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"","code":"analyse_coxph(level = 0.95, alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"analyse function returns list elements p p value score test (two.sided) Wald test (one.sided) alternative alternative used coef coefficient trt hr hazard ratio trt hr_lower lower 95% confidence intervall boundary hazard ratio trt hr_upperlower 95% confidence intervall boundary hazard ratio trt CI_level CI level used N_pat number patients N_evt number events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with the Cox Protportional Hazards Model — analyse_coxph","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_coxph()(condition, dat) #> $p #> [1] 0.009190203 #>  #> $alternative #> [1] \"two.sided\" #>  #> $coef #>        trt  #> -0.3028416  #>  #> $hr #>       trt  #> 0.7387161  #>  #> $hr_lower #> [1] 0.587698 #>  #> $hr_upper #> [1] 0.9285405 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"Analyse Dataset weighted Cox regression","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"","code":"analyse_coxph_weighted(   type = \"SG\",   max_time = NA_real_,   level = 0.95,   alternative = \"two.sided\" )"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"type type weights, see Details max_time cutoff time estimation, defaults last event time level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"analyse function returns data.frame columns p p value score test (two.sided) Wald test (one.sided) alternative alternative used coef coefficient trt hr hazard ratio trt hr_lower lower 95% confidence intervall boundary hazard ratio trt hr_upperlower 95% confidence intervall boundary hazard ratio trt CI_level CI level used N_pat number patients N_evt number events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"Type can \"SG\", \"S\" \"G\". \"SG\" weights set S(t)*G(t)^(-1), \"S\" S(t) used, \"G\", G(t)^(-1) used. S(t) denotes Kaplan Meier estimator event Times G(t) denotes Kaplan Meier estimator censoring times. alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_coxph_weighted.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with weighted Cox regression — analyse_coxph_weighted","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_coxph_weighted()(condition, dat) #> $p #> [1] 0.2602253 #>  #> $alternative #> [1] \"two.sided\" #>  #> $coef #>        trt  #> -0.1863434  #>  #> $hr #>       trt  #> 0.8299885  #>  #> $hr_lower #> [1] 0.6830168 #>  #> $hr_upper #> [1] 1.008586 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  #> $followup #> [1] 8072 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"Create Function Descriptive Statistics Dataset","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"","code":"analyse_describe()  summarise_describe(name = NULL)"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"name name summarise function, appended name analysis method final results","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"analyse function returns list elements followup follow time events table events vs. treatment ice column ice present, table intercurrent events, events, treatment subgroup column subgroup present, table subgroup, events, treatment function can used Summarise returns data frame columns means standard deviations every variable description.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"summarise_describe(): Summarise Descriptive Statistics","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_describe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Function for Descriptive Statistics of a Dataset — analyse_describe","text":"","code":"condition <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_describe()(condition, dat) #> $n_pat #> [1] 300 #>  #> $max_followup #> [1] 8872 #>  #> $evt #> [1] 300 #>  #> $evt_ctrl #> [1] 150 #>  #> $evt_trt #> [1] 150 #>  #> $study_time #> [1] NA #>  condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by=NULL ) |>   tail(4) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  summarise_all <- create_summarise_function(   describe=summarise_describe() )  # runs simulations sim_results <- runSimulation(   design=condition,   replications=100,   generate=generate_delayed_effect,   analyse=list(     describe=analyse_describe()   ),   summarise = summarise_all ) #>  #>  Design row: 1/1;   RAM used: 159.1 Mb;   Total elapsed time: 0.00s  #>  Conditions: delay=121., hzrd_c=0.0009, hzrd_t=0.0006, rndm_w=0.0001, n_trt=150, n_ctrl=150, follwp=730., rcrtmn=182. #>  #>  #> Simulation complete. Total execution time: 0.15s  # study time is missing, since there was no admin. censoring sim_results[, 9:16] #> # A tibble: 1 × 8 #>   describe.n_pat describe.max_followup describe.evt describe.evt_ctrl #>            <dbl>                 <dbl>        <dbl>             <dbl> #> 1            300                9062.4          300               150 #> # ℹ 4 more variables: describe.evt_trt <dbl>, describe.study_time <dbl>, #> #   describe.sd_n_pat <dbl>, describe.sd_max_followup <dbl>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"Analyse dataset using differnce median survival","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"","code":"analyse_diff_median_survival(   quant = 0.5,   level = 0.95,   alternative = \"two.sided\" )"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"quant quantile difference calculated, defaults median level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"Returns analysis function, can used runSimulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"implementation nph package used, see documentation details. data.frame returned created function includes follwing columns: p p value test, see Details alternative alternative used diff_Q estimated differnce quantile suvivla functions diff_Q_lower unadjusted lower bound confidence interval differnce quantile suvivla functions diff_Q_upper unadjusted upper bound confidence interval differnce quantile suvivla functions CI_level CI level used quantile quantile used extimation N_pat number patients N_evt number events","code":""},{"path":[]},{"path":"https://simnph.github.io/SimNPH/reference/analyse_diff_median_survival.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse the dataset using differnce in median survival — analyse_diff_median_survival","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_diff_median_survival()(condition, dat) #> $p #> [1] 0.06144781 #>  #> $alternative #> [1] \"two.sided\" #>  #> $diff_Q #> [1] 289 #>  #> $diff_Q_lower #> [1] -13.86152 #>  #> $diff_Q_upper #> [1] 591.8615 #>  #> $CI_level #> [1] 0.95 #>  #> $quantile #> [1] 0.5 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"Create Analyse function Gehan Wilcoxon test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"","code":"analyse_gehan_wilcoxon(alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"analyse function can used runSimulation","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_gehan_wilcoxon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Analyse function for Gehan Wilcoxon test — analyse_gehan_wilcoxon","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_gehan_wilcoxon()(condition, dat) #> $p #> [1] 0.1022204 #>  #> $alternative #> [1] \"two.sided\" #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"Create Analyse Functions Group Sequential Design Summarise Output Analyse Functions Group Sequential Design","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"","code":"analyse_group_sequential(followup, followup_type, alpha, analyse_functions)  summarise_group_sequential(name = NULL)"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"followup followup events time followup_type \"events\" \"time\" alpha nominal alpha stage analyse_functions analyse function list analyse functions name name attribute returned closure","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"analyse function can used runSimulation Returns function arguments: condition results fixed objects can passed create_summarise_function SimDesign::runSimulation returns data.frame.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"followup, followup_type alpha evaluated every simulated dataset, .e. arguments Analyse function available, expressions like followup=c(condition$interim, condition$max_followup) valid arguments. analyse_functions take arguments condition, dataset fixed_objects return list conatining p-value, number patients number event columsn p, N_pat N_evt.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"summarise_group_sequential(): Summarise Output Analyse Functions Group Sequential Design","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_group_sequential.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Analyse Functions for Group Sequential Design — analyse_group_sequential","text":"","code":"# create a function to analyse after interim_events and maximum followup time # given in the condition row of the design data.frame with given # nominal alpha analyse_maxcombo_sequential <- analyse_group_sequential(   followup = c(condition$interim_events, condition$followup),   followup_type = c(\"event\", \"time\"),   alpha = c(0.025, 0.05),   analyse_functions = analyse_maxcombo() ) Summarise <- create_summarise_function(   maxcombo_seq = summarise_group_sequential(),   logrank_seq = summarise_group_sequential(name=\"logrank\") )"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with the Logrank Test — analyse_logrank","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"Analyse Dataset Logrank Test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"","code":"analyse_logrank(alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"analysis function returns data.frame columns p p-value logrank test alternative alternative used N_pat number patients N_evt number events","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with the Logrank Test — analyse_logrank","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_logrank()(condition, dat) #> $p #> [1] 1.586731e-05 #>  #> $alternative #> [1] \"two.sided\" #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"Analyse Dataset Fleming Harrington weighted Logrank Test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"","code":"analyse_logrank_fh_weights(rho, gamma, alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"rho rho rho-gamma family weights gamma gamma rho-gamma family weights alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"function arguments condition, dat fixed_objects returns dataframe p-value weighted logrank test column p. See ?SimDesign::Analyse details arguments condition, dat, fixed_arguments.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_logrank_fh_weights.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with the Fleming Harrington weighted Logrank Test — analyse_logrank_fh_weights","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) # create two functions with different weights analyse_01 <- analyse_logrank_fh_weights(rho = 0, gamma = 1) analyse_10 <- analyse_logrank_fh_weights(rho = 1, gamma = 0) # run the tests created before analyse_01(condition, dat) #> $p #> [1] 0.008720073 #>  #> $alternative #> [1] \"two.sided\" #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_10(condition, dat) #> $p #> [1] 7.063152e-07 #>  #> $alternative #> [1] \"two.sided\" #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"Analyse Dataset Maxcombo Test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"","code":"analyse_maxcombo(alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"analyse function returns data.frame combined p-value max combo test column p","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_maxcombo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with the Maxcombo Test — analyse_maxcombo","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_maxcombo()(condition, dat) #> $p #> [1] 0.005713407 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"Analyse Dataset using difference quotient milestone survival","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"","code":"analyse_milestone_survival(   times,   what = \"quot\",   level = 0.95,   alternative = \"two.sided\" )"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"times followup times survival compared \"quot\" quotient \"diff\" differnce surival probabilities level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"Returns analysis function, can used runSimulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"implementation nph package used, see documentation details. alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control. data.frame returned created function includes follwing columns: milestone_surv_ratio / milestone_surv_diff ratio differnce survival probabilities times followup times survival compared N_pat number patients N_evt number events p p value H0 ratios 1 differnce 0 respectively alternative alternative used milestone_surv_ratio_lower / milestone_surv_diff_lower upper/lower CI estimate milestone_surv_ratio_upper / milestone_surv_diff_upper upper/lower CI estimate CI_level CI level used","code":""},{"path":[]},{"path":"https://simnph.github.io/SimNPH/reference/analyse_milestone_survival.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse the Dataset using difference or quotient of milestone survival — analyse_milestone_survival","text":"","code":"condition <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_milestone_survival(3:5)(condition, dat) #> Warning: lower == upper #> Warning: lower == upper #> Warning: lower == upper #> $p #> [1] 1 1 1 #>  #> $alternative #> [1] \"two.sided\" #>  #> $milestone_surv_ratio #> [1] 1 1 1 #>  #> $milestone_surv_ratio_lower #> [1] 0.981691 0.981691 0.981691 #>  #> $milestone_surv_ratio_upper #> [1] 1.018651 1.018651 1.018651 #>  #> $CI_level #> [1] 0.95 #>  #> $times #> [1] 3 4 5 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  analyse_milestone_survival(3:5, what=\"diff\")(condition, dat) #> Warning: lower == upper #> Warning: lower == upper #> Warning: lower == upper #> $p #> [1] 1 1 1 #>  #> $alternative #> [1] \"two.sided\" #>  #> $milestone_surv_diff #> [1] 0 0 0 #>  #> $milestone_surv_diff_lower #> [1] -0.01835594 -0.01835594 -0.01835594 #>  #> $milestone_surv_diff_upper #> [1] 0.01835594 0.01835594 0.01835594 #>  #> $CI_level #> [1] 0.95 #>  #> $times #> [1] 3 4 5 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_modelstly_weighted.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","title":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","text":"Create Analyse function modestly weighted logrank test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_modelstly_weighted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","text":"","code":"analyse_modelstly_weighted(t_star)"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_modelstly_weighted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","text":"t_star parameter t* modestly weighted logrank test","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_modelstly_weighted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","text":"analyse function can used runSimulation","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_modelstly_weighted.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Analyse function for the modestly weighted logrank test — analyse_modelstly_weighted","text":"","code":"condition <- merge(    assumptions_delayed_effect(),    design_fixed_followup(),    by=NULL  ) |>  head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_modelstly_weighted(20)(condition, dat) #> $p #> [1] 0.0009369806 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"Create Analyse function piecewise exponential model","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"","code":"analyse_piecewise_exponential(cuts, testing_only = FALSE)"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"cuts interval boundaries piecewise exponential model testing_only set TRUE omits statistics intervals just returns p value global test.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"analyse function can used runSimulation","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"time interval patients ever enter, NA returned time intervals. behavior likely change future package versions.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_piecewise_exponential.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Analyse function for piecewise exponential model — analyse_piecewise_exponential","text":"","code":"condition <- merge(    assumptions_delayed_effect(),    design_fixed_followup(),    by=NULL  ) |>  head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_piecewise_exponential(cuts=c(90, 360))(condition, dat) #> $p #> [1] 0.001247528 #>  #> $hr_s #> # A tibble: 1 × 3 #>   `trt:intervalI1` `trt:intervalI2` `trt:intervalI3` #>              <dbl>            <dbl>            <dbl> #> 1            0.723            0.662            0.617 #>  #> $p_s #> # A tibble: 1 × 3 #>   `trt:intervalI1` `trt:intervalI2` `trt:intervalI3` #>              <dbl>            <dbl>            <dbl> #> 1            0.486            0.148         0.000250 #>  #> $hr_s_lower #> # A tibble: 1 × 3 #>   `trt:intervalI1` `trt:intervalI2` `trt:intervalI3` #>              <dbl>            <dbl>            <dbl> #> 1            -1.27           -0.983           -0.742 #>  #> $hr_s_upper #> # A tibble: 1 × 3 #>   `trt:intervalI1` `trt:intervalI2` `trt:intervalI3` #>              <dbl>            <dbl>            <dbl> #> 1            0.581            0.140           -0.224 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>  #> $interval_table #>      #>        0   1 #>   I1 281  19 #>   I2 230  51 #>   I3   0 230 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"Analyse Dataset using difference RMST","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"","code":"analyse_rmst_diff(max_time = NA, level = 0.95, alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"max_time time RMST calculated level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"Returns analysis function, can used runSimulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"implementation nph package used, see documentation details. alternative can \"two.sided\" two sided test equality summary statistic \"one.sided\" one sided test testing H0: treatment equal shorter survival control vs. H1 treatment longer survival control. data.frame returned created function includes follwing columns: p p value test, see Details alternative alternative used rmst_diff estimated differnce RMST rmst_diff_lower unadjusted lower bound confidence interval differnce RMST rmst_diff_upper unadjusted upper bound confidence interval differnce RMST CI_level CI level used N_pat number patients N_evt number events","code":""},{"path":[]},{"path":"https://simnph.github.io/SimNPH/reference/analyse_rmst_diff.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse the Dataset using the difference in RMST — analyse_rmst_diff","text":"","code":"condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by = NULL ) |>   head(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_rmst_diff()(condition, dat) #> $p #> [1] 1.22279e-07 #>  #> $alternative #> [1] \"two.sided\" #>  #> $rmst_diff #> [1] 643.014 #>  #> $rmst_diff_lower #> [1] 404.7775 #>  #> $rmst_diff_upper #> [1] 881.2505 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse Dataset with Weibull Regression — analyse_weibull","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"Analyse Dataset Weibull Regression","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"","code":"analyse_weibull(level = 0.95, alternative = \"two.sided\")"},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"level confidence level CI computation alternative alternative hypothesis tests \"two.sided\" \"one.sieded\"","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"analysis function returns data.frame","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"columns return two-sided p-value test equal medians. estimated medians treatment control group estimated difference median survival confidence intervals. estimates tests comstructed fitting seperate Weibull regression models treatment control groups estimating medians respective variances delta-method.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/analyse_weibull.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse Dataset with Weibull Regression — analyse_weibull","text":"","code":"condition <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) |>   head(3) |>   tail(1) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) dat <- generate_delayed_effect(condition) analyse_weibull()(condition, dat) #> $p #> [1] 0.003041207 #>  #> $alternative #> [1] \"two.sided\" #>  #> $med_trt_est #> [1] 602.6634 #>  #> $med_trt_lower #> [1] 483.3259 #>  #> $med_trt_upper #> [1] 722.0008 #>  #> $med_ctrl_est #> [1] 935.069 #>  #> $med_ctrl_lower #> [1] 750.4399 #>  #> $med_ctrl_upper #> [1] 1119.698 #>  #> $diff_med_est #> [1] 332.4056 #>  #> $diff_med_lower #> [1] 112.5663 #>  #> $diff_med_upper #> [1] 552.245 #>  #> $CI_level #> [1] 0.95 #>  #> $N_pat #> [1] 300 #>  #> $N_evt #> [1] 300 #>"},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a summarise function from a named list of functions — create_summarise_function","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"Create summarise function named list functions","code":""},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"","code":"create_summarise_function(...)"},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"... summarise function","code":""},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"function arguments condition, results, fixed objects","code":""},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"names list functions correspond names list analyse functions, summarise function applied results analyse function name, names present lists ommitted either list. functions list arguments condition, results fixed_objects. results list lists. outer list one element replication, inner list one entry Analyse function. (Analyse functions return lists work, otherwise results simplified data.frames. Analyse functions SimNPH package return lists.) individual summarise functions return data.frames, concatendated column-wise give one row per condition. names analyse methods prepended respective coumn names, functions \"name\" attribute appended column names output. Column names unique appended numbers make.unique.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/create_summarise_function.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a summarise function from a named list of functions — create_summarise_function","text":"","code":"Summarise <- create_summarise_function(   maxcombo = function(condition, results, fixed_objects=NULL){     data.frame(\"rejection\"=mean(results$p < alpha))   },   logrank  = function(condition, results, fixed_objects=NULL){     data.frame(\"rejection\"=mean(results$p < alpha))   } )"},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data.frame with an example fixed design — design_fixed_followup","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"Create data.frame example fixed design","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"","code":"design_fixed_followup()"},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"design_fixed_followup: design tibble default values invisibly","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"design_fixed_followup prints code generate default design tibble use generate_delayed_effect generate_... functions returns evaluated code invisibly. function intended used copy paste code edit parameters.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"design_fixed_followup(): generate default fixed design","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_fixed_followup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a data.frame with an example fixed design — design_fixed_followup","text":"","code":"Design <- design_fixed_followup() #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) Design #>   n_trt n_ctrl followup recruitment #> 1   150    150    730.5     182.625"},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data.frame with an example group sequential design — design_group_sequential","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"Create data.frame example group sequential design","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"","code":"design_group_sequential()"},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"design_group_sequential: design tibble default values invisibly","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"design_group_sequential prints code generate default design tibble use generate_delayed_effect generate_... functions returns evaluated code invisibly. function intended used copy paste code edit parameters.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"design_group_sequential(): generate default group sequential desing","code":""},{"path":"https://simnph.github.io/SimNPH/reference/design_group_sequential.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a data.frame with an example group sequential design — design_group_sequential","text":"","code":"Design <- design_group_sequential() #> expand.grid( #>   n_trt=200,          # 200 patients in the treatment arm #>   n_ctrl=200,         # 200 patients in the control arm #>   followup=m2d(48),   # maximum followup time 4 years #>   recruitment=m2d(6), # recruitment time 6 months #>   interim_events=150, # interim analysis after 150 events #>   final_events=300    # final analysis after 300 events #> ) Design #>   n_trt n_ctrl followup recruitment interim_events final_events #> 1   200    200     1461     182.625            150          300"},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"Fast C implementation hazard, cumulative hazard, ... piecewise constant hazards","code":""},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"","code":"fast_haz_fun(Tint, lambda)  fast_cumhaz_fun(Tint, lambda)  fast_cdf_fun(Tint, lambda)  fast_pdf_fun(Tint, lambda)  fast_surv_fun(Tint, lambda)  fast_quant_fun(Tint, lambda)  fast_rng_fun(Tint, lambda, discrete = TRUE)"},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"Tint left points time intervals hazards defined lambda hazards time intervals discrete surivial times rounded next whole day","code":""},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"function one parameter, vector times function evaluated. fast_rng_fun: function argument draws n samples survival distribution","code":""},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"last time interval extends +Inf","code":""},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"fast_haz_fun(): fast hazard function fast_cumhaz_fun(): fast cumulative hazard function fast_cdf_fun(): fast cumulative density function function fast_pdf_fun(): fast probability density function fast_surv_fun(): fast survival function fast_quant_fun(): fast quantile function fast_rng_fun(): fast random numbers survival distribution","code":""},{"path":"https://simnph.github.io/SimNPH/reference/fast_haz_fun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fast C implementation of hazard, cumulative hazard, ... for piecewise constant hazards — fast_haz_fun","text":"","code":"haz <- fast_haz_fun(c(0, 10, 20), c(10, 15, 7)) haz(seq(0, 30, by=0.1)) #>   [1] 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 #>  [26] 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 #>  [51] 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 #>  [76] 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 #> [101] 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 #> [126] 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 #> [151] 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 #> [176] 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 15 #> [201]  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7 #> [226]  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7 #> [251]  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7 #> [276]  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7  7 #> [301]  7 cumhaz <- fast_cumhaz_fun(c(0, 10, 20), c(10, 15, 7)) cumhaz(seq(0, 30, by=0.1)) #>   [1]   0.0   1.0   2.0   3.0   4.0   5.0   6.0   7.0   8.0   9.0  10.0  11.0 #>  [13]  12.0  13.0  14.0  15.0  16.0  17.0  18.0  19.0  20.0  21.0  22.0  23.0 #>  [25]  24.0  25.0  26.0  27.0  28.0  29.0  30.0  31.0  32.0  33.0  34.0  35.0 #>  [37]  36.0  37.0  38.0  39.0  40.0  41.0  42.0  43.0  44.0  45.0  46.0  47.0 #>  [49]  48.0  49.0  50.0  51.0  52.0  53.0  54.0  55.0  56.0  57.0  58.0  59.0 #>  [61]  60.0  61.0  62.0  63.0  64.0  65.0  66.0  67.0  68.0  69.0  70.0  71.0 #>  [73]  72.0  73.0  74.0  75.0  76.0  77.0  78.0  79.0  80.0  81.0  82.0  83.0 #>  [85]  84.0  85.0  86.0  87.0  88.0  89.0  90.0  91.0  92.0  93.0  94.0  95.0 #>  [97]  96.0  97.0  98.0  99.0 100.0 101.5 103.0 104.5 106.0 107.5 109.0 110.5 #> [109] 112.0 113.5 115.0 116.5 118.0 119.5 121.0 122.5 124.0 125.5 127.0 128.5 #> [121] 130.0 131.5 133.0 134.5 136.0 137.5 139.0 140.5 142.0 143.5 145.0 146.5 #> [133] 148.0 149.5 151.0 152.5 154.0 155.5 157.0 158.5 160.0 161.5 163.0 164.5 #> [145] 166.0 167.5 169.0 170.5 172.0 173.5 175.0 176.5 178.0 179.5 181.0 182.5 #> [157] 184.0 185.5 187.0 188.5 190.0 191.5 193.0 194.5 196.0 197.5 199.0 200.5 #> [169] 202.0 203.5 205.0 206.5 208.0 209.5 211.0 212.5 214.0 215.5 217.0 218.5 #> [181] 220.0 221.5 223.0 224.5 226.0 227.5 229.0 230.5 232.0 233.5 235.0 236.5 #> [193] 238.0 239.5 241.0 242.5 244.0 245.5 247.0 248.5 250.0 250.7 251.4 252.1 #> [205] 252.8 253.5 254.2 254.9 255.6 256.3 257.0 257.7 258.4 259.1 259.8 260.5 #> [217] 261.2 261.9 262.6 263.3 264.0 264.7 265.4 266.1 266.8 267.5 268.2 268.9 #> [229] 269.6 270.3 271.0 271.7 272.4 273.1 273.8 274.5 275.2 275.9 276.6 277.3 #> [241] 278.0 278.7 279.4 280.1 280.8 281.5 282.2 282.9 283.6 284.3 285.0 285.7 #> [253] 286.4 287.1 287.8 288.5 289.2 289.9 290.6 291.3 292.0 292.7 293.4 294.1 #> [265] 294.8 295.5 296.2 296.9 297.6 298.3 299.0 299.7 300.4 301.1 301.8 302.5 #> [277] 303.2 303.9 304.6 305.3 306.0 306.7 307.4 308.1 308.8 309.5 310.2 310.9 #> [289] 311.6 312.3 313.0 313.7 314.4 315.1 315.8 316.5 317.2 317.9 318.6 319.3 #> [301] 320.0 cdf <- fast_cdf_fun(c(0, 10, 20), c(10, 15, 7)) cdf(seq(0, 30, by=0.1)) #>   [1] 0.0000000 0.6321206 0.8646647 0.9502129 0.9816844 0.9932621 0.9975212 #>   [8] 0.9990881 0.9996645 0.9998766 0.9999546 0.9999833 0.9999939 0.9999977 #>  [15] 0.9999992 0.9999997 0.9999999 1.0000000 1.0000000 1.0000000 1.0000000 #>  [22] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [29] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [36] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [43] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [50] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [57] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [64] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [71] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [78] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [85] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [92] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #>  [99] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [106] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [113] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [120] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [127] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [134] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [141] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [148] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [155] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [162] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [169] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [176] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [183] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [190] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [197] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [204] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [211] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [218] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [225] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [232] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [239] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [246] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [253] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [260] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [267] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [274] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [281] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [288] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 #> [295] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 pdf <- fast_pdf_fun(c(0, 10, 20), c(10, 15, 7)) pdf(seq(0, 30, by=0.1)) #>   [1]  1.000000e+01  3.678794e+00  1.353353e+00  4.978707e-01  1.831564e-01 #>   [6]  6.737947e-02  2.478752e-02  9.118820e-03  3.354626e-03  1.234098e-03 #>  [11]  4.539993e-04  1.670170e-04  6.144212e-05  2.260329e-05  8.315287e-06 #>  [16]  3.059023e-06  1.125352e-06  4.139938e-07  1.522998e-07  5.602796e-08 #>  [21]  2.061154e-08  7.582560e-09  2.789468e-09  1.026188e-09  3.775135e-10 #>  [26]  1.388794e-10  5.109089e-11  1.879529e-11  6.914400e-12  2.543666e-12 #>  [31]  9.357623e-13  3.442477e-13  1.266417e-13  4.658886e-14  1.713908e-14 #>  [36]  6.305117e-15  2.319523e-15  8.533048e-16  3.139133e-16  1.154822e-16 #>  [41]  4.248354e-17  1.562882e-17  5.749522e-18  2.115131e-18  7.781132e-19 #>  [46]  2.862519e-19  1.053062e-19  3.873998e-20  1.425164e-20  5.242886e-21 #>  [51]  1.928750e-21  7.095474e-22  2.610279e-22  9.602680e-23  3.532629e-23 #>  [56]  1.299581e-23  4.780893e-24  1.758792e-24  6.470235e-25  2.380266e-25 #>  [61]  8.756511e-26  3.221340e-26  1.185065e-26  4.359610e-27  1.603811e-27 #>  [66]  5.900091e-28  2.170522e-28  7.984904e-29  2.937482e-29  1.080639e-29 #>  [71]  3.975450e-30  1.462486e-30  5.380186e-31  1.979260e-31  7.281290e-32 #>  [76]  2.678637e-32  9.854155e-33  3.625141e-33  1.333615e-33  4.906095e-34 #>  [81]  1.804851e-34  6.639677e-35  2.442601e-35  8.985826e-36  3.305701e-36 #>  [86]  1.216099e-36  4.473779e-37  1.645811e-37  6.054602e-38  2.227364e-38 #>  [91]  8.194013e-39  3.014409e-39  1.108939e-39  4.079559e-40  1.500786e-40 #>  [96]  5.521082e-41  2.031093e-41  7.471972e-42  2.748785e-42  1.011221e-42 #> [101]  5.580114e-43  1.245092e-43  2.778175e-44  6.198947e-45  1.383172e-45 #> [106]  3.086274e-46  6.886408e-47  1.536565e-47  3.428541e-48  7.650108e-49 #> [111]  1.706970e-49  3.808764e-50  8.498502e-51  1.896272e-51  4.231155e-52 #> [116]  9.440983e-53  2.106568e-53  4.700389e-54  1.048798e-54  2.340186e-55 #> [121]  5.221660e-56  1.165110e-56  2.599712e-57  5.800741e-58  1.294320e-58 #> [126]  2.888019e-59  6.444041e-60  1.437860e-60  3.208299e-61  7.158683e-62 #> [131]  1.597318e-62  3.564098e-63  7.952578e-64  1.774460e-64  3.959355e-65 #> [136]  8.834516e-66  1.971247e-66  4.398447e-67  9.814261e-68  2.189858e-68 #> [141]  4.886233e-69  1.090266e-69  2.432712e-70  5.428114e-71  1.211176e-71 #> [146]  2.702499e-72  6.030090e-73  1.345495e-73  3.002205e-74  6.698825e-75 #> [151]  1.494710e-75  3.335149e-76  7.441723e-77  1.660473e-77  3.705016e-78 #> [156]  8.267007e-79  1.844619e-79  4.115900e-80  9.183815e-81  2.049186e-81 #> [161]  4.572352e-82  1.020230e-82  2.276440e-83  5.079425e-84  1.133373e-84 #> [166]  2.528897e-85  5.642731e-86  1.259064e-86  2.809350e-87  6.268508e-88 #> [171]  1.398693e-88  3.120906e-89  6.963683e-90  1.553808e-90  3.467014e-91 #> [176]  7.735954e-92  1.726125e-92  3.851504e-93  8.593868e-94  1.917551e-94 #> [181]  4.278635e-95  9.546925e-96  2.130207e-96  4.753134e-97  1.060568e-97 #> [186]  2.366446e-98  5.280255e-99  1.178184e-99 2.628884e-100 5.865834e-101 #> [191] 1.308844e-101 2.920427e-102 6.516352e-103 1.453995e-103 3.244301e-104 #> [196] 7.239014e-105 1.615242e-105 3.604093e-106 8.041818e-107 1.794372e-107 #> [201] 1.868433e-108 9.278364e-109 4.607499e-109 2.288017e-109 1.136195e-109 #> [206] 5.642179e-110 2.801823e-110 1.391344e-110 6.909211e-111 3.431013e-111 #> [211] 1.703790e-111 8.460773e-112 4.201496e-112 2.086401e-112 1.036076e-112 #> [216] 5.145001e-113 2.554932e-113 1.268742e-113 6.300385e-114 3.128679e-114 #> [221] 1.553656e-114 7.715226e-115 3.831268e-115 1.902551e-115 9.447791e-116 #> [226] 4.691634e-116 2.329797e-116 1.156943e-116 5.745208e-117 2.852986e-117 #> [231] 1.416751e-117 7.035376e-118 3.493664e-118 1.734902e-118 8.615270e-119 #> [236] 4.278216e-119 2.124499e-119 1.054995e-119 5.238951e-120 2.601586e-120 #> [241] 1.291909e-120 6.415432e-121 3.185809e-121 1.582026e-121 7.856109e-122 #> [246] 3.901228e-122 1.937293e-122 9.620311e-123 4.777305e-123 2.372339e-123 #> [251] 1.178069e-123 5.850117e-124 2.905082e-124 1.442621e-124 7.163844e-125 #> [256] 3.557460e-125 1.766582e-125 8.772588e-126 4.356338e-126 2.163294e-126 #> [261] 1.074260e-126 5.334616e-127 2.649092e-127 1.315500e-127 6.532581e-128 #> [266] 3.243984e-128 1.610915e-128 7.999565e-129 3.972466e-129 1.972668e-129 #> [271] 9.795981e-130 4.864540e-130 2.415659e-130 1.199581e-130 5.956942e-131 #> [276] 2.958130e-131 1.468964e-131 7.294659e-132 3.622420e-132 1.798841e-132 #> [281] 8.932779e-133 4.435887e-133 2.202796e-133 1.093876e-133 5.432028e-134 #> [286] 2.697465e-134 1.339522e-134 6.651868e-135 3.303220e-135 1.640330e-135 #> [291] 8.145640e-136 4.045005e-136 2.008690e-136 9.974860e-137 4.953369e-137 #> [296] 2.459770e-137 1.221486e-137 6.065718e-138 3.012147e-138 1.495788e-138 #> [301] 7.427862e-139 surv <- fast_surv_fun(c(0, 10, 20), c(10, 15, 7)) surv(seq(0, 30, by=0.1)) #>   [1]  1.000000e+00  3.678794e-01  1.353353e-01  4.978707e-02  1.831564e-02 #>   [6]  6.737947e-03  2.478752e-03  9.118820e-04  3.354626e-04  1.234098e-04 #>  [11]  4.539993e-05  1.670170e-05  6.144212e-06  2.260329e-06  8.315287e-07 #>  [16]  3.059023e-07  1.125352e-07  4.139938e-08  1.522998e-08  5.602796e-09 #>  [21]  2.061154e-09  7.582560e-10  2.789468e-10  1.026188e-10  3.775135e-11 #>  [26]  1.388794e-11  5.109089e-12  1.879529e-12  6.914400e-13  2.543666e-13 #>  [31]  9.357623e-14  3.442477e-14  1.266417e-14  4.658886e-15  1.713908e-15 #>  [36]  6.305117e-16  2.319523e-16  8.533048e-17  3.139133e-17  1.154822e-17 #>  [41]  4.248354e-18  1.562882e-18  5.749522e-19  2.115131e-19  7.781132e-20 #>  [46]  2.862519e-20  1.053062e-20  3.873998e-21  1.425164e-21  5.242886e-22 #>  [51]  1.928750e-22  7.095474e-23  2.610279e-23  9.602680e-24  3.532629e-24 #>  [56]  1.299581e-24  4.780893e-25  1.758792e-25  6.470235e-26  2.380266e-26 #>  [61]  8.756511e-27  3.221340e-27  1.185065e-27  4.359610e-28  1.603811e-28 #>  [66]  5.900091e-29  2.170522e-29  7.984904e-30  2.937482e-30  1.080639e-30 #>  [71]  3.975450e-31  1.462486e-31  5.380186e-32  1.979260e-32  7.281290e-33 #>  [76]  2.678637e-33  9.854155e-34  3.625141e-34  1.333615e-34  4.906095e-35 #>  [81]  1.804851e-35  6.639677e-36  2.442601e-36  8.985826e-37  3.305701e-37 #>  [86]  1.216099e-37  4.473779e-38  1.645811e-38  6.054602e-39  2.227364e-39 #>  [91]  8.194013e-40  3.014409e-40  1.108939e-40  4.079559e-41  1.500786e-41 #>  [96]  5.521082e-42  2.031093e-42  7.471972e-43  2.748785e-43  1.011221e-43 #> [101]  3.720076e-44  8.300611e-45  1.852117e-45  4.132631e-46  9.221146e-47 #> [106]  2.057516e-47  4.590938e-48  1.024377e-48  2.285694e-49  5.100072e-50 #> [111]  1.137980e-50  2.539176e-51  5.665668e-52  1.264181e-52  2.820770e-53 #> [116]  6.293989e-54  1.404379e-54  3.133593e-55  6.991990e-56  1.560124e-56 #> [121]  3.481107e-57  7.767399e-58  1.733141e-58  3.867160e-59  8.628801e-60 #> [126]  1.925346e-60  4.296027e-61  9.585732e-62  2.138866e-62  4.772455e-63 #> [131]  1.064879e-63  2.376065e-64  5.301719e-65  1.182973e-65  2.639570e-66 #> [136]  5.889677e-67  1.314165e-67  2.932298e-68  6.542841e-69  1.459905e-69 #> [141]  3.257489e-70  7.268439e-71  1.621808e-71  3.618743e-72  8.074507e-73 #> [146]  1.801666e-73  4.020060e-74  8.969967e-75  2.001470e-75  4.465884e-76 #> [151]  9.964733e-77  2.223432e-77  4.961148e-78  1.106982e-78  2.470010e-79 #> [156]  5.511338e-80  1.229746e-80  2.743934e-81  6.122544e-82  1.366124e-82 #> [161]  3.048235e-83  6.801532e-84  1.517627e-84  3.386283e-85  7.555819e-86 #> [166]  1.685931e-86  3.761821e-87  8.393757e-88  1.872900e-88  4.179005e-89 #> [171]  9.324621e-90  2.080604e-90  4.642456e-91  1.035872e-91  2.311343e-92 #> [176]  5.157302e-93  1.150750e-93  2.567670e-94  5.729245e-95  1.278367e-95 #> [181]  2.852423e-96  6.364617e-97  1.420138e-97  3.168756e-98  7.070451e-99 #> [186]  1.577631e-99 3.520170e-100 7.854561e-101 1.752589e-101 3.910556e-102 #> [191] 8.725629e-103 1.946951e-103 4.344235e-104 9.693298e-105 2.162867e-105 #> [196] 4.826009e-106 1.076828e-106 2.402728e-107 5.361212e-108 1.196248e-108 #> [201] 2.669190e-109 1.325481e-109 6.582142e-110 3.268595e-110 1.623136e-110 #> [206] 8.060256e-111 4.002605e-111 1.987635e-111 9.870302e-112 4.901447e-112 #> [211] 2.433986e-112 1.208682e-112 6.002137e-113 2.980573e-113 1.480109e-113 #> [216] 7.350002e-114 3.649903e-114 1.812488e-114 9.000550e-115 4.469541e-115 #> [221] 2.219508e-115 1.102175e-115 5.473240e-116 2.717931e-116 1.349684e-116 #> [226] 6.702334e-117 3.328281e-117 1.652775e-117 8.207439e-118 4.075694e-118 #> [231] 2.023930e-118 1.005054e-118 4.990949e-119 2.478432e-119 1.230753e-119 #> [236] 6.111738e-120 3.034999e-120 1.507136e-120 7.484216e-121 3.716552e-121 #> [241] 1.845585e-121 9.164903e-122 4.551156e-122 2.260037e-122 1.122301e-122 #> [246] 5.573184e-123 2.767561e-123 1.374330e-123 6.824721e-124 3.389056e-124 #> [251] 1.682956e-124 8.357310e-125 4.150117e-125 2.060887e-125 1.023406e-125 #> [256] 5.082086e-126 2.523689e-126 1.253227e-126 6.223340e-127 3.090419e-127 #> [261] 1.534657e-127 7.620880e-128 3.784417e-128 1.879286e-128 9.332258e-129 #> [266] 4.634262e-129 2.301306e-129 1.142795e-129 5.674952e-130 2.818098e-130 #> [271] 1.399426e-130 6.949343e-131 3.450942e-131 1.713687e-131 8.509918e-132 #> [276] 4.225900e-132 2.098520e-132 1.042094e-132 5.174886e-133 2.569772e-133 #> [281] 1.276111e-133 6.336981e-134 3.146852e-134 1.562680e-134 7.760041e-135 #> [286] 3.853522e-135 1.913602e-135 9.502668e-136 4.718885e-136 2.343329e-136 #> [291] 1.163663e-136 5.778579e-137 2.869557e-137 1.424980e-137 7.076241e-138 #> [296] 3.513957e-138 1.744980e-138 8.665312e-139 4.303067e-139 2.136840e-139 #> [301] 1.061123e-139 quant <- fast_quant_fun(c(0, 10, 20), c(10, 15, 7)) quant(seq(0, 1, by=0.01)) #>   [1] 0.000000000 0.001005034 0.002020271 0.003045921 0.004082199 0.005129329 #>   [7] 0.006187540 0.007257069 0.008338161 0.009431068 0.010536052 0.011653382 #>  [13] 0.012783337 0.013926207 0.015082289 0.016251893 0.017435339 0.018632958 #>  [19] 0.019845094 0.021072103 0.022314355 0.023572233 0.024846136 0.026136476 #>  [25] 0.027443685 0.028768207 0.030110509 0.031471074 0.032850407 0.034249031 #>  [31] 0.035667494 0.037106368 0.038566248 0.040047757 0.041551544 0.043078292 #>  [37] 0.044628710 0.046203546 0.047803580 0.049429632 0.051082562 0.052763274 #>  [43] 0.054472718 0.056211892 0.057981850 0.059783700 0.061618614 0.063487827 #>  [49] 0.065392647 0.067334455 0.069314718 0.071334989 0.073396918 0.075502258 #>  [55] 0.077652879 0.079850770 0.082098055 0.084397007 0.086750057 0.089159812 #>  [61] 0.091629073 0.094160854 0.096758403 0.099425227 0.102165125 0.104982212 #>  [67] 0.107880966 0.110866262 0.113943428 0.117118298 0.120397280 0.123787436 #>  [73] 0.127296568 0.130933332 0.134707365 0.138629436 0.142711636 0.146967597 #>  [79] 0.151412773 0.156064775 0.160943791 0.166073121 0.171479843 0.177195684 #>  [85] 0.183258146 0.189711998 0.196611286 0.204022083 0.212026354 0.220727491 #>  [91] 0.230258509 0.240794561 0.252572864 0.265926004 0.281341072 0.299573227 #>  [97] 0.321887582 0.350655790 0.391202301 0.460517019         NaN rng <- fast_rng_fun(c(0, 10, 20), c(10, 15, 7)) rng(100) #>   [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  [38] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 #>  [75] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Dataset with crossing hazards — generate_crossing_hazards","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"Generate Dataset crossing hazards Create empty assumtions data.frame generate_crossing_hazards Calculate hr crossing hazard functions Calculate true summary statistics scenarios crossing hazards","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"","code":"generate_crossing_hazards(condition, fixed_objects = NULL)  assumptions_crossing_hazards()  hr_after_crossing_from_PH_effect_size(   design,   target_power_ph = NA_real_,   final_events = NA_real_,   target_alpha = 0.025 )  cen_rate_from_cen_prop_crossing_hazards(design)  true_summary_statistics_crossing_hazards(   Design,   cutoff_stats = NULL,   milestones = NULL,   fixed_objects = NULL )"},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"condition condition row Design dataset fixed_objects additional settings, see details design design data.frame target_power_ph target power proportional hazards final_events target events inversion Schönfeld Formula, defaults condition$final_events target_alpha target one-sided alpha level power calculation Design Design data.frame crossing hazards cutoff_stats (optionally named) cutoff time, see details milestones (optionally named) vector times milestone survival calculated","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"generate_crossing_hazards: dataset columns t (time) trt (1=treatment, 0=control), evt (event, currently TRUE observations) assumptions_crossing_hazards: design tibble default values invisibly hr_after_crossing_from_PH_effect_size: design data.frame passed argument additional column hazard_trt. cen_rate_from_cen_prop_crossing_hazards: design data.frame additional column random_withdrawal true_summary_statistics_crossing_hazards: design data.frame passed argument additional columns,","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"Condidtion contain following columns: n_trt number paitents treatment arm n_ctrl number patients control arm crossing time crossing hazards hazard_ctrl hazard control arm = hazard onset treatment effect hazard_trt_before hazard treatment arm onset treatment effect hazard_trt_after hazard treatment arm afert onset treatment effect fixed_objects given contains element t_max, used cutoff simulation used internally. t_max given way 1-(1/10000) quantile survival distribution control treatment arm used (ever larger). assumptions_crossing_hazards prints code generate default design tibble use generate_crossing_hazards returns evaluated code invisibly. function intended used copy paste code edit parameters. hr_after_crossing_from_PH_effect_size calculates hazard ratio crossing hazards follows: First, hazard ratio needed archive desired power proportional hazards calculated inverting Schönfeld's sample size formula. Second median survival times arm hazard ratio proportional hazards calculated. Finally hazard rate treatment arm crossing hazards set median survival time one calculated proportional hazards. heuristic extent arbitrary approach calculate hazard ratios correspond reasonable realistic scenarios. cen_rate_from_cen_prop_crossing_hazards takes proportion censored patients column censoring_prop. column describes proportion patients censored randomly experiencing event, without regard administrative censoring. cutoff_stats times used calculate statistics like average hazard ratios RMST, calculated certain point.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"generate_crossing_hazards(): simulates dataset crossing hazards assumptions_crossing_hazards(): generate default design tibble hr_after_crossing_from_PH_effect_size(): Calculate hr crossing hazards PH effect size cen_rate_from_cen_prop_crossing_hazards(): calculate censoring rate censoring proportion true_summary_statistics_crossing_hazards(): calculate true summary statistics crossing hazards","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_crossing_hazards.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Dataset with crossing hazards — generate_crossing_hazards","text":"","code":"one_simulation <- merge(     assumptions_crossing_hazards(),     design_fixed_followup(),     by=NULL   ) |>   head(1) |>   generate_crossing_hazards() #> expand.grid( #>   crossing=m2d(seq(0, 10, by=2)), # crossing after of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),            # median survival control of 24 months #>   hazard_trt_before=m2r(18),      # median survival before crossing 18 months #>   hazard_trt_after=m2r(36),       # median survival after crossing 36 months #>   random_withdrawal=m2r(120)      # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) head(one_simulation) #>      t trt  evt #> 1  856   1 TRUE #> 2 1317   1 TRUE #> 3 1072   1 TRUE #> 4 3828   1 TRUE #> 5  377   1 TRUE #> 6 1451   1 TRUE tail(one_simulation) #>        t trt  evt #> 295   15   0 TRUE #> 296  732   0 TRUE #> 297  355   0 TRUE #> 298 2287   0 TRUE #> 299    1   0 TRUE #> 300  643   0 TRUE Design <- assumptions_crossing_hazards() #> expand.grid( #>   crossing=m2d(seq(0, 10, by=2)), # crossing after of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),            # median survival control of 24 months #>   hazard_trt_before=m2r(18),      # median survival before crossing 18 months #>   hazard_trt_after=m2r(36),       # median survival after crossing 36 months #>   random_withdrawal=m2r(120)      # median time to random withdrawal 10 years #> ) Design #>   crossing  hazard_ctrl hazard_trt_before hazard_trt_after random_withdrawal #> 1    0.000 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 2   60.875 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 3  121.750 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 4  182.625 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 5  243.500 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 6  304.375 0.0009488668       0.001265156     0.0006325779      0.0001897734 my_design <- merge(     assumptions_crossing_hazards(),     design_fixed_followup(),     by=NULL   ) #> expand.grid( #>   crossing=m2d(seq(0, 10, by=2)), # crossing after of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),            # median survival control of 24 months #>   hazard_trt_before=m2r(18),      # median survival before crossing 18 months #>   hazard_trt_after=m2r(36),       # median survival after crossing 36 months #>   random_withdrawal=m2r(120)      # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  my_design$final_events <- ceiling((my_design$n_trt + my_design$n_ctrl)*0.75) my_design$hazard_trt <- NA my_design <- hr_after_crossing_from_PH_effect_size(my_design, target_power_ph=0.9) my_design #>   crossing  hazard_ctrl hazard_trt_before hazard_trt_after random_withdrawal #> 1    0.000 0.0009488668       0.001265156     0.0006158887      0.0001897734 #> 2   60.875 0.0009488668       0.001265156     0.0005787618      0.0001897734 #> 3  121.750 0.0009488668       0.001265156     0.0005371313      0.0001897734 #> 4  182.625 0.0009488668       0.001265156     0.0004901248      0.0001897734 #> 5  243.500 0.0009488668       0.001265156     0.0004366293      0.0001897734 #> 6  304.375 0.0009488668       0.001265156     0.0003752012      0.0001897734 #>   n_trt n_ctrl followup recruitment final_events hazard_trt target_median_trt #> 1   150    150    730.5     182.625          225         NA          1125.442 #> 2   150    150    730.5     182.625          225         NA          1125.442 #> 3   150    150    730.5     182.625          225         NA          1125.442 #> 4   150    150    730.5     182.625          225         NA          1125.442 #> 5   150    150    730.5     182.625          225         NA          1125.442 #> 6   150    150    730.5     182.625          225         NA          1125.442 #>   target_hr #> 1 0.6490782 #> 2 0.6490782 #> 3 0.6490782 #> 4 0.6490782 #> 5 0.6490782 #> 6 0.6490782 design <- data.frame(   crossing = c(2, 4, 6),   hazard_ctrl = c(0.05, 0.05, 0.05),   hazard_trt_before = c(0.025, 0.025, 0.025),   hazard_trt_after = c(0.1, 0.1, 0.1),   censoring_prop = c(0.1, 0.3, 0.2),   n_trt = c(50, 50, 50),   n_ctrl = c(50, 50, 50),   followup = c(200, 200, 200),   recruitment = c(50, 50, 50) ) cen_rate_from_cen_prop_crossing_hazards(design) #>   crossing hazard_ctrl hazard_trt_before hazard_trt_after censoring_prop n_trt #> 1        2        0.05             0.025              0.1            0.1    50 #> 2        4        0.05             0.025              0.1            0.3    50 #> 3        6        0.05             0.025              0.1            0.2    50 #>   n_ctrl followup recruitment random_withdrawal #> 1     50      200          50       0.007469191 #> 2     50      200          50       0.029373101 #> 3     50      200          50       0.016885532 my_design <- merge(     assumptions_crossing_hazards(),     design_fixed_followup(),     by=NULL   ) #> expand.grid( #>   crossing=m2d(seq(0, 10, by=2)), # crossing after of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),            # median survival control of 24 months #>   hazard_trt_before=m2r(18),      # median survival before crossing 18 months #>   hazard_trt_after=m2r(36),       # median survival after crossing 36 months #>   random_withdrawal=m2r(120)      # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) my_design$follwup <- 15 my_design <- true_summary_statistics_crossing_hazards(my_design) my_design #>   crossing  hazard_ctrl hazard_trt_before hazard_trt_after random_withdrawal #> 1    0.000 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 2   60.875 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 3  121.750 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 4  182.625 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 5  243.500 0.0009488668       0.001265156     0.0006325779      0.0001897734 #> 6  304.375 0.0009488668       0.001265156     0.0006325779      0.0001897734 #>   n_trt n_ctrl followup recruitment follwup median_survival_trt #> 1   150    150    730.5     182.625      15            1095.750 #> 2   150    150    730.5     182.625      15            1034.875 #> 3   150    150    730.5     182.625      15             974.000 #> 4   150    150    730.5     182.625      15             913.125 #> 5   150    150    730.5     182.625      15             852.250 #> 6   150    150    730.5     182.625      15             791.375 #>   median_survival_ctrl #> 1                730.5 #> 2                730.5 #> 3                730.5 #> 4                730.5 #> 5                730.5 #> 6                730.5"},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Dataset with delayed effect — generate_delayed_effect","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"Generate Dataset delayed effect Create empty assumtions data.frame generate_delayed_effect Calculate hr onset treatment effect Calculate true summary statistics scenarios delayed treatment effect","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"","code":"generate_delayed_effect(condition, fixed_objects = NULL)  assumptions_delayed_effect()  hr_after_onset_from_PH_effect_size(   design,   target_power_ph = NA_real_,   final_events = NA_real_,   target_alpha = 0.025 )  cen_rate_from_cen_prop_delayed_effect(design)  true_summary_statistics_delayed_effect(   Design,   cutoff_stats = NULL,   milestones = NULL,   fixed_objects = NULL )"},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"condition condition row Design dataset fixed_objects additional settings, see details design design data.frame target_power_ph target power proportional hazards final_events target events inversion Schönfeld Formula defaults condition$final_events target_alpha target one-sided alpha level power calculation Design Design data.frame delayed effect cutoff_stats (optionally named) cutoff times, see details milestones (optionally named) vector times milestone survival calculated","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"generate_delayed_effect: dataset columns t (time) trt (1=treatment, 0=control), evt (event, currently TRUE observations) assumptions_delayed_effect: design tibble default values invisibly hr_after_onset_from_PH_effect_size: design data.frame passed argument additional column hazard_trt. cen_rate_from_cen_prop_delayed_effect: design data.frame additional column random_withdrawal true_summary_statistics_delayed_effect: design data.frame passed argument additional columns","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"Condidtion contain following columns: n_trt number paitents treatment arm n_ctrl number patients control arm delay time onset effect hazard_ctrl hazard control arm = hazard onset treatment effect hazard_trt hazard treatment arm afert onset treatment effect fixed_objects given contains element t_max, used cutoff simulation used internally. t_max given way 1-(1/10000) quantile survival distribution control treatment arm used (ever larger). assumptions_delayed_effect prints code generate default design tibble use generate_delayed_effect returns evaluated code invisibly. function intended used copy paste code edit parameters. hr_after_onset_from_PH_effect_size calculates hazard ratio onset treatment effect follows: First, hazard ratio needed archive desired power proportional hazards calculated inverting Schönfeld's sample size formula. Second median survival times arm hazard ratio proportional hazards calculated. Finally hazard rate treatment arm onset treatment effect set median survival time one calculated proportional hazards. heuristic extent arbitrary approach calculate hazard ratios correspond reasonable realistic scenarios. cen_rate_from_cen_prop_delayed_effect takes proportion censored patients column censoring_prop. column describes proportion patients censored randomly experiencing event, without regard administrative censoring. cutoff_stats times used calculate statistics like average hazard ratios RMST, calculated certain point.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"generate_delayed_effect(): simulates dataset delayed treatment effect assumptions_delayed_effect(): generate default design tibble hr_after_onset_from_PH_effect_size(): Calculate hr onset treatment effect hazards PH effect size cen_rate_from_cen_prop_delayed_effect(): calculate censoring rate censoring proportion true_summary_statistics_delayed_effect(): calculate true summary statistics delayed effect","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_delayed_effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Dataset with delayed effect — generate_delayed_effect","text":"","code":"one_simulation <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) |>   head(1) |>   generate_delayed_effect() #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) head(one_simulation) #>      t trt  evt #> 1 2381   1 TRUE #> 2  806   1 TRUE #> 3 2866   1 TRUE #> 4 1360   1 TRUE #> 5  856   1 TRUE #> 6 3206   1 TRUE tail(one_simulation) #>        t trt  evt #> 295  557   0 TRUE #> 296 2271   0 TRUE #> 297 1988   0 TRUE #> 298  449   0 TRUE #> 299 1048   0 TRUE #> 300  432   0 TRUE Design <- assumptions_delayed_effect() #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) Design #>     delay  hazard_ctrl   hazard_trt random_withdrawal #> 1   0.000 0.0009488668 0.0006325779      0.0001897734 #> 2  60.875 0.0009488668 0.0006325779      0.0001897734 #> 3 121.750 0.0009488668 0.0006325779      0.0001897734 #> 4 182.625 0.0009488668 0.0006325779      0.0001897734 #> 5 243.500 0.0009488668 0.0006325779      0.0001897734 #> 6 304.375 0.0009488668 0.0006325779      0.0001897734 my_design <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by=NULL ) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  my_design$hazard_ctrl <- 0.05 my_design$final_events <- ceiling((my_design$n_trt + my_design$n_ctrl)*0.75) my_design$hazard_trt <- NA my_design <- hr_after_onset_from_PH_effect_size(my_design, target_power_ph=0.9) #> Warning: Median survival is shorter than delay of treatment effect, calculation not possible #> Warning: Median survival is shorter than delay of treatment effect, calculation not possible #> Warning: Median survival is shorter than delay of treatment effect, calculation not possible #> Warning: Median survival is shorter than delay of treatment effect, calculation not possible #> Warning: Median survival is shorter than delay of treatment effect, calculation not possible my_design #>     delay hazard_ctrl hazard_trt random_withdrawal n_trt n_ctrl followup #> 1   0.000        0.05 0.03245391      0.0001897734   150    150    730.5 #> 2  60.875        0.05         NA      0.0001897734   150    150    730.5 #> 3 121.750        0.05         NA      0.0001897734   150    150    730.5 #> 4 182.625        0.05         NA      0.0001897734   150    150    730.5 #> 5 243.500        0.05         NA      0.0001897734   150    150    730.5 #> 6 304.375        0.05         NA      0.0001897734   150    150    730.5 #>   recruitment final_events target_median_trt target_hr #> 1     182.625          225          21.35789 0.6490782 #> 2     182.625          225          21.35789 0.6490782 #> 3     182.625          225          21.35789 0.6490782 #> 4     182.625          225          21.35789 0.6490782 #> 5     182.625          225          21.35789 0.6490782 #> 6     182.625          225          21.35789 0.6490782 design <- expand.grid(   delay=seq(0, 10, by=5),            # delay of 0, 1, ..., 10 days   hazard_ctrl=0.2,                   # hazard under control and before treatment effect   hazard_trt=0.02,                   # hazard after onset of treatment effect   censoring_prop=c(0.1, 0.25, 0.01), # 10%, 25%, 1% random censoring   followup=100,                      # followup of 100 days   n_trt=50,                          # 50 patients treatment   n_ctrl=50                          # 50 patients control ) cen_rate_from_cen_prop_delayed_effect(design) #>   delay hazard_ctrl hazard_trt censoring_prop followup n_trt n_ctrl #> 1     0         0.2       0.02           0.10      100    50     50 #> 2     5         0.2       0.02           0.10      100    50     50 #> 3    10         0.2       0.02           0.10      100    50     50 #> 4     0         0.2       0.02           0.25      100    50     50 #> 5     5         0.2       0.02           0.25      100    50     50 #> 6    10         0.2       0.02           0.25      100    50     50 #> 7     0         0.2       0.02           0.01      100    50     50 #> 8     5         0.2       0.02           0.01      100    50     50 #> 9    10         0.2       0.02           0.01      100    50     50 #>   random_withdrawal #> 1      0.0043517713 #> 2      0.0047198579 #> 3      0.0050796441 #> 4      0.0150805823 #> 5      0.0162247001 #> 6      0.0173312396 #> 7      0.0003698016 #> 8      0.0004022565 #> 9      0.0004341304 my_design <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) my_design <- true_summary_statistics_delayed_effect(my_design) my_design #>     delay  hazard_ctrl   hazard_trt random_withdrawal n_trt n_ctrl followup #> 1   0.000 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #> 2  60.875 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #> 3 121.750 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #> 4 182.625 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #> 5 243.500 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #> 6 304.375 0.0009488668 0.0006325779      0.0001897734   150    150    730.5 #>   recruitment median_survival_trt median_survival_ctrl #> 1     182.625           1095.7500                730.5 #> 2     182.625           1065.3125                730.5 #> 3     182.625           1034.8750                730.5 #> 4     182.625           1004.4375                730.5 #> 5     182.625            974.0000                730.5 #> 6     182.625            943.5625                730.5"},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"Create empty assumtions data.frame generate_progression Generate Dataset changing hazards disease progression Calculate progression rate proportion patients progress Calculate hr onset treatment effect","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"","code":"assumptions_progression()  generate_progression(condition, fixed_objects = NULL)  true_summary_statistics_progression(   Design,   what = \"os\",   cutoff_stats = NULL,   fixed_objects = NULL,   milestones = NULL )  progression_rate_from_progression_prop(design)  cen_rate_from_cen_prop_progression(design)  hazard_before_progression_from_PH_effect_size(   design,   target_power_ph = NA_real_,   final_events = NA_real_,   target_alpha = 0.025 )"},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"condition condition row Design dataset fixed_objects additional settings, see details Design Design data.frame subgroup True summary statistics estimand cutoff_stats (optionally named) cutoff time, see details milestones (optionally named) vector times milestone survival calculated design design data.frame target_power_ph target power proportional hazards final_events target events inversion Schönfeld Formula, defaults condition$final_events target_alpha target one-sided alpha level power calculation","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"generate_progression: design tibble default values invisibly generate_progression: dataset columns t (time) trt (1=treatment, 0=control), evt (event, currently TRUE observations), t_ice (time intercurrent event), ice (intercurrent event) true_summary_statistics_subgroup: design data.frame passed argument additional columns progression_rate_from_progression_prop: design data.frame passed argument additional columns prog_rate_trt, prog_rate_ctrl cen_rate_from_cen_prop_progression: design data.frame additional column random_withdrawal hazard_before_progression_from_PH_effect_size: design data.frame passed argument additional column hazard_trt.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"assumptions_progression prints code generate default design tibble use generate_progression returns evaluated code invisibly. function intended used copy paste code edit parameters. Condidtion contain following columns: n_trt number paitents treatment arm n_ctrl number patients control arm hazard_ctrl hazard control arm hazard_trt hazard treatment arm cured patients hazard_after_prog hazard disease progression prog_rate_ctrl hazard rate disease progression unter control prog_rate_trt hazard rate disease progression unter treatment can \"os\" overall survival \"pfs\" progression free survival. fixed_objects contains t_max value used maximum time calculate function like survival, hazard, ... data generating models. given t_max choosen minimum 1-(1/10000) quantile survival distributions model. cutoff_stats times used calculate statistics like average hazard ratios RMST, calculated certain point. progression_rate_from_progression_prop, design data.frame, contain columns prog_prop_trt prog_prop_ctrl proportions patients, progress respective arms. cen_rate_from_cen_prop_progression takes proportion censored patients column censoring_prop. column describes proportion patients censored randomly experiencing event, without regard administrative censoring. hazard_before_progression_from_PH_effect_size calculates hazard ratio onset treatment effect follows: First calculate hazard control arm give median survival exponential model. calculate median survival treatment arm give desired power logrank test exponential models control treatment arm. callibrate hazard progression treatment arm give median survival time. heuristic extent arbitrary approach calculate hazard ratios correspond reasonable realistic scenarios.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"assumptions_progression(): generate default assumptions tibble generate_progression(): simulates dataset changing hazards disease progression true_summary_statistics_progression(): calculate true summary statistics scenarios disease progression progression_rate_from_progression_prop(): Calculate progression rate proportion patients progress cen_rate_from_cen_prop_progression(): calculate censoring rate censoring proportion hazard_before_progression_from_PH_effect_size(): Calculate hazard treatment arm progression PH effect size","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_progression.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an empty assumtions data.frame for generate_progression — assumptions_progression","text":"","code":"Design <- assumptions_progression() #> expand.grid( #>   hazard_ctrl= m2r(24),              # med. survival ctrl 24 months #>   hazard_trt= m2r(36),               # med. survival trt 36 months #>   hazard_after_prog=m2r(6),          # med. survival after prorg. 6 months #>   prog_rate_ctrl=m2r(12),            # med. time to prog. ctrl 12 months #>   prog_rate_trt= m2r(c(12, 16, 18)), # med. time to prog. trt 12, 16, 18 months #>   random_withdrawal=m2r(120)         # median time to random withdrawal 10 years #> ) Design #>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt #> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734 #> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300 #> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156 #>   random_withdrawal #> 1      0.0001897734 #> 2      0.0001897734 #> 3      0.0001897734 one_simulation <- merge(     assumptions_progression(),     design_fixed_followup(),     by=NULL   ) |>   tail(1) |>   generate_progression() #> expand.grid( #>   hazard_ctrl= m2r(24),              # med. survival ctrl 24 months #>   hazard_trt= m2r(36),               # med. survival trt 36 months #>   hazard_after_prog=m2r(6),          # med. survival after prorg. 6 months #>   prog_rate_ctrl=m2r(12),            # med. time to prog. ctrl 12 months #>   prog_rate_trt= m2r(c(12, 16, 18)), # med. time to prog. trt 12, 16, 18 months #>   random_withdrawal=m2r(120)         # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) head(one_simulation) #>     t trt  evt t_ice   ice #> 1 319   1 TRUE   163  TRUE #> 2 834   1 TRUE   472  TRUE #> 3 933   1 TRUE   499  TRUE #> 4 561   1 TRUE   502  TRUE #> 5 614   1 TRUE   Inf FALSE #> 6  49   1 TRUE    19  TRUE tail(one_simulation) #>        t trt  evt t_ice   ice #> 295  513   0 TRUE    91  TRUE #> 296  662   0 TRUE   Inf FALSE #> 297 1210   0 TRUE  1191  TRUE #> 298 1318   0 TRUE  1316  TRUE #> 299  158   0 TRUE   Inf FALSE #> 300  320   0 TRUE   140  TRUE  my_design <- merge(   assumptions_progression(),   design_fixed_followup(),   by=NULL ) #> expand.grid( #>   hazard_ctrl= m2r(24),              # med. survival ctrl 24 months #>   hazard_trt= m2r(36),               # med. survival trt 36 months #>   hazard_after_prog=m2r(6),          # med. survival after prorg. 6 months #>   prog_rate_ctrl=m2r(12),            # med. time to prog. ctrl 12 months #>   prog_rate_trt= m2r(c(12, 16, 18)), # med. time to prog. trt 12, 16, 18 months #>   random_withdrawal=m2r(120)         # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  my_design_os  <- true_summary_statistics_progression(my_design, \"os\") my_design_pfs <- true_summary_statistics_progression(my_design, \"pfs\") my_design_os #>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt #> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734 #> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300 #> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156 #>   random_withdrawal n_trt n_ctrl followup recruitment median_survival_trt #> 1      0.0001897734   150    150    730.5     182.625                 480 #> 2      0.0001897734   150    150    730.5     182.625                 533 #> 3      0.0001897734   150    150    730.5     182.625                 556 #>   median_survival_ctrl #> 1                  422 #> 2                  422 #> 3                  422 my_design_pfs #>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt #> 1 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001897734 #> 2 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001423300 #> 3 0.0009488668 0.0006325779       0.003795467    0.001897734   0.001265156 #>   random_withdrawal n_trt n_ctrl followup recruitment median_survival_trt #> 1      0.0001897734   150    150    730.5     182.625            273.9375 #> 2      0.0001897734   150    150    730.5     182.625            337.1538 #> 3      0.0001897734   150    150    730.5     182.625            365.2500 #>   median_survival_ctrl #> 1                243.5 #> 2                243.5 #> 3                243.5 my_design <- merge(     assumptions_progression(),     design_fixed_followup(),     by=NULL   ) #> expand.grid( #>   hazard_ctrl= m2r(24),              # med. survival ctrl 24 months #>   hazard_trt= m2r(36),               # med. survival trt 36 months #>   hazard_after_prog=m2r(6),          # med. survival after prorg. 6 months #>   prog_rate_ctrl=m2r(12),            # med. time to prog. ctrl 12 months #>   prog_rate_trt= m2r(c(12, 16, 18)), # med. time to prog. trt 12, 16, 18 months #>   random_withdrawal=m2r(120)         # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) my_design$prog_rate_ctrl <- NA_real_ my_design$prog_rate_trt <- NA_real_ my_design$prog_prop_trt <- 0.2 my_design$prog_prop_ctrl <- 0.3 my_design <- progression_rate_from_progression_prop(my_design) my_design #>    hazard_ctrl   hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt #> 1 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445 #> 2 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445 #> 3 0.0009488668 0.0006325779       0.003795467   0.0004066572  0.0001581445 #>   random_withdrawal n_trt n_ctrl followup recruitment prog_prop_trt #> 1      0.0001897734   150    150    730.5     182.625           0.2 #> 2      0.0001897734   150    150    730.5     182.625           0.2 #> 3      0.0001897734   150    150    730.5     182.625           0.2 #>   prog_prop_ctrl #> 1            0.3 #> 2            0.3 #> 3            0.3 design <- expand.grid( hazard_ctrl         = m2r(15),          # hazard under control hazard_trt          = m2r(18),          # hazard under treatment hazard_after_prog   = m2r(3),           # hazard after progression prog_rate_ctrl      = m2r(12),          # hazard for disease progression under control prog_rate_trt       = m2r(c(12,16,18)), # hazard for disease progression under treatment censoring_prop      = 0.1,              # rate of random withdrawal followup            = 100,              # follow up time n_trt               = 50,               # patients in treatment arm n_ctrl              = 50                # patients in control arm ) cen_rate_from_cen_prop_progression(design) #>   hazard_ctrl  hazard_trt hazard_after_prog prog_rate_ctrl prog_rate_trt #> 1 0.001518187 0.001265156       0.007590934    0.001897734   0.001897734 #> 2 0.001518187 0.001265156       0.007590934    0.001897734   0.001423300 #> 3 0.001518187 0.001265156       0.007590934    0.001897734   0.001265156 #>   censoring_prop followup n_trt n_ctrl random_withdrawal #> 1            0.1      100    50     50      0.0001268863 #> 2            0.1      100    50     50      0.0001272055 #> 3            0.1      100    50     50      0.0001275449 if (FALSE) { my_design <- hazard_before_progression_from_PH_effect_size(my_design, target_power_ph=0.9) }"},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"Generate Dataset different treatment effect subgroup Create empty assumtions data.frame generate_subgroup Calculate true summary statistics scenarios differential treatment effect subgroup Calculate hazards treatment arm subgroup compliment","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"","code":"generate_subgroup(condition, fixed_objects = NULL)  assumptions_subgroup()  true_summary_statistics_subgroup(   Design,   cutoff_stats = NULL,   milestones = NULL,   fixed_objects = NULL )  hazard_subgroup_from_PH_effect_size(   design,   target_power_ph = NA_real_,   final_events = NA_real_,   target_alpha = 0.025 )  cen_rate_from_cen_prop_subgroup(design)"},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"condition condition row Design dataset fixed_objects additional settings, see details Design Design data.frame subgroup cutoff_stats (optionally named) cutoff times, see details milestones (optionally named) vector times milestone survival calculated design design data.frame target_power_ph target power proportional hazards final_events target events inversion Schönfeld Formula, defaults condition$final_events target_alpha target one-sided alpha level power calculation","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"generate_subgroup: dataset columns t (time) trt (1=treatment, 0=control), evt (event, currently TRUE observations) assumptions_subgroup: design tibble default values invisibly true_summary_statistics_subgroup: design data.frame passed argument additional columns hazard_subgroup_from_PH_effect_size: design data.frame passed argument additional columns hazard_trt hazard_subgroup. cen_rate_from_cen_prop_subgroup: design data.frame additional column random_withdrawal","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"Condidtion contain following columns: n_trt number paitents treatment arm n_ctrl number patients control arm hazard_ctrl hazard control arm hazard_trt hazard treatment arm cured patients hazard_subgroup hazard subgroup treatment arm prevalence proportion cured patients assumptions_subgroup prints code generate default design tibble use generate_subgroup returns evaluated code invisibly. function intended used copy paste code edit parameters. cutoff_stats times used calculate statistics like average hazard ratios RMST, calculated certain point. hazard_subgroup_from_PH_effect_size calculates hazard rate subgroup compliment subgroup treatment arm follows: First, hazard ratio needed archive desired power proportional hazards calculated inverting Schönfeld's sample size formula. Second median survival times arms hazard ratio proportional hazards calculated. Finally hazard rate treatment arm subgroup complement set median survival time one calculated proportional hazards. heuristic extent arbitrary approach calculate hazard ratios correspond reasonable realistic scenarios. cen_rate_from_cen_prop_subgroup takes proportion censored patients column censoring_prop. column describes proportion patients censored randomly experiencing event, without regard administrative censoring.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"generate_subgroup(): simulates dataset mixture cured patients assumptions_subgroup(): generate default assumptions tibble true_summary_statistics_subgroup(): calculate true summary statistics subgroup hazard_subgroup_from_PH_effect_size(): Calculate hazards treatement arm cen_rate_from_cen_prop_subgroup(): calculate censoring rate censoring proportion","code":""},{"path":"https://simnph.github.io/SimNPH/reference/generate_subgroup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Dataset with different treatment effect in subgroup — generate_subgroup","text":"","code":"one_simulation <- merge(     assumptions_subgroup(),     design_fixed_followup(),     by=NULL   ) |>   head(1) |>   generate_subgroup() #> expand.grid( #>   hazard_ctrl=m2r(24),              # med. survival ctrl. 24 months #>   hazard_trt=m2r(36),               # med. survival trt 36 months #>   hazard_subgroup=m2r(240),         # med. survival subgroup 20 years #>   prevalence=seq(0.2, 0.8, by=0.2), # prevalence 0.2, 0.4, 0.6, 0.8 #>   random_withdrawal=m2r(120)        # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) head(one_simulation) #>      t trt  evt subgroup #> 1  647   1 TRUE        0 #> 2  142   1 TRUE        0 #> 3 2001   1 TRUE        0 #> 4  630   1 TRUE        0 #> 5 1066   1 TRUE        0 #> 6 5112   1 TRUE        0 tail(one_simulation) #>        t trt  evt subgroup #> 295  353   0 TRUE        0 #> 296 1058   0 TRUE        0 #> 297  960   0 TRUE        0 #> 298  707   0 TRUE        0 #> 299  936   0 TRUE        0 #> 300  856   0 TRUE        0 Design <- assumptions_subgroup() #> expand.grid( #>   hazard_ctrl=m2r(24),              # med. survival ctrl. 24 months #>   hazard_trt=m2r(36),               # med. survival trt 36 months #>   hazard_subgroup=m2r(240),         # med. survival subgroup 20 years #>   prevalence=seq(0.2, 0.8, by=0.2), # prevalence 0.2, 0.4, 0.6, 0.8 #>   random_withdrawal=m2r(120)        # median time to random withdrawal 10 years #> ) Design #>    hazard_ctrl   hazard_trt hazard_subgroup prevalence random_withdrawal #> 1 0.0009488668 0.0006325779    9.488668e-05        0.2      0.0001897734 #> 2 0.0009488668 0.0006325779    9.488668e-05        0.4      0.0001897734 #> 3 0.0009488668 0.0006325779    9.488668e-05        0.6      0.0001897734 #> 4 0.0009488668 0.0006325779    9.488668e-05        0.8      0.0001897734 my_design <- merge(     assumptions_subgroup(),     design_fixed_followup(),     by=NULL   ) #> expand.grid( #>   hazard_ctrl=m2r(24),              # med. survival ctrl. 24 months #>   hazard_trt=m2r(36),               # med. survival trt 36 months #>   hazard_subgroup=m2r(240),         # med. survival subgroup 20 years #>   prevalence=seq(0.2, 0.8, by=0.2), # prevalence 0.2, 0.4, 0.6, 0.8 #>   random_withdrawal=m2r(120)        # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> ) my_design <- true_summary_statistics_subgroup(my_design) my_design #>    hazard_ctrl   hazard_trt hazard_subgroup prevalence random_withdrawal n_trt #> 1 0.0009488668 0.0006325779    9.488668e-05        0.2      0.0001897734   150 #> 2 0.0009488668 0.0006325779    9.488668e-05        0.4      0.0001897734   150 #> 3 0.0009488668 0.0006325779    9.488668e-05        0.6      0.0001897734   150 #> 4 0.0009488668 0.0006325779    9.488668e-05        0.8      0.0001897734   150 #>   n_ctrl followup recruitment median_survival_trt median_survival_ctrl #> 1    150    730.5     182.625            1422.745                730.5 #> 2    150    730.5     182.625            2001.270                730.5 #> 3    150    730.5     182.625            3143.728                730.5 #> 4    150    730.5     182.625            5119.929                730.5  my_design <- merge(   assumptions_subgroup(),   design_fixed_followup(),   by=NULL ) #> expand.grid( #>   hazard_ctrl=m2r(24),              # med. survival ctrl. 24 months #>   hazard_trt=m2r(36),               # med. survival trt 36 months #>   hazard_subgroup=m2r(240),         # med. survival subgroup 20 years #>   prevalence=seq(0.2, 0.8, by=0.2), # prevalence 0.2, 0.4, 0.6, 0.8 #>   random_withdrawal=m2r(120)        # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  my_design$hazard_trt <- NA my_design$hazard_subgroup <- NA my_design$hr_subgroup_relative <- 0.9 my_design$final_events <- ceiling((my_design$n_ctrl + my_design$n_trt) * 0.75) my_design <- hazard_subgroup_from_PH_effect_size(my_design, target_power_ph=0.9) my_design #>    hazard_ctrl   hazard_trt hazard_subgroup prevalence random_withdrawal n_trt #> 1 0.0009488668 0.0006288263    0.0005659437        0.2      0.0001897734   150 #> 2 0.0009488668 0.0006421335    0.0005779202        0.4      0.0001897734   150 #> 3 0.0009488668 0.0006558156    0.0005902340        0.6      0.0001897734   150 #> 4 0.0009488668 0.0006698768    0.0006028891        0.8      0.0001897734   150 #>   n_ctrl followup recruitment hr_subgroup_relative final_events #> 1    150    730.5     182.625                  0.9          225 #> 2    150    730.5     182.625                  0.9          225 #> 3    150    730.5     182.625                  0.9          225 #> 4    150    730.5     182.625                  0.9          225 #>   target_median_trt #> 1          1125.442 #> 2          1125.442 #> 3          1125.442 #> 4          1125.442 design <- expand.grid(   hazard_ctrl=0.2,                   # hazard under control and before treatment effect   hazard_trt=0.02,                   # hazard after onset of treatment effect   hazard_subgroup=0.01,              # hazard in the subgroup in treatment   prevalence = c(0.2, 0.5),           # subgroup prevalence   censoring_prop=c(0.1, 0.25, 0.01), # 10%, 25%, 1% random censoring   followup=100,                      # followup of 100 days   n_trt=50,                          # 50 patients treatment   n_ctrl=50                          # 50 patients control ) cen_rate_from_cen_prop_subgroup(design) #>   hazard_ctrl hazard_trt hazard_subgroup prevalence censoring_prop followup #> 1         0.2       0.02            0.01        0.2           0.10      100 #> 2         0.2       0.02            0.01        0.5           0.10      100 #> 3         0.2       0.02            0.01        0.2           0.25      100 #> 4         0.2       0.02            0.01        0.5           0.25      100 #> 5         0.2       0.02            0.01        0.2           0.01      100 #> 6         0.2       0.02            0.01        0.5           0.01      100 #>   n_trt n_ctrl random_withdrawal #> 1    50     50      0.0030440737 #> 2    50     50      0.0026408014 #> 3    50     50      0.0108976367 #> 4    50     50      0.0095627716 #> 5    50     50      0.0002558513 #> 6    50     50      0.0002211651"},{"path":"https://simnph.github.io/SimNPH/reference/labs_from_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Add ggplot axis labels from labels attribute — labs_from_labels","title":"Add ggplot axis labels from labels attribute — labs_from_labels","text":"Add ggplot axis labels labels attribute","code":""},{"path":"https://simnph.github.io/SimNPH/reference/labs_from_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add ggplot axis labels from labels attribute — labs_from_labels","text":"","code":"labs_from_labels(gg)"},{"path":"https://simnph.github.io/SimNPH/reference/labs_from_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add ggplot axis labels from labels attribute — labs_from_labels","text":"gg ggplot object","code":""},{"path":"https://simnph.github.io/SimNPH/reference/labs_from_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add ggplot axis labels from labels attribute — labs_from_labels","text":"ggplot object","code":""},{"path":"https://simnph.github.io/SimNPH/reference/labs_from_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add ggplot axis labels from labels attribute — labs_from_labels","text":"","code":"if (FALSE) { test <- mtcars # add a label attribute attr(test$cyl, \"label\") <- \"cylinders\"  # plot witht the variable names as axis titles gg1 <- ggplot(test, aes(x=wt, y=cyl)) +   geom_point() gg1  # add labels where defined in the attribute gg2 <- ggplot(test, aes(x=wt, y=cyl)) +   geom_point()  gg2 <- labs_from_labels(gg2) gg2 }"},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge results from additional or updated simulations — upsert_merge","title":"Merge results from additional or updated simulations — upsert_merge","text":"Merge results additional updated simulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge results from additional or updated simulations — upsert_merge","text":"","code":"upsert_merge(x, y, by)  merge_additional_results(   old,   new,   design_names = NULL,   descriptive_regex = NULL )"},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge results from additional or updated simulations — upsert_merge","text":"x left data.frame y right data.frame columns match old old results new new/additional results design_names names paramterst descriptive_regex regular expression columns descriptive statistics","code":""},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge results from additional or updated simulations — upsert_merge","text":"data.frame data.frame merged simulation results","code":""},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Merge results from additional or updated simulations — upsert_merge","text":"updates columns x values matched rows y add joins columns y present x. Calls rows_upsert full_join. design_names omitted value taken design_names attribute simulation results. descriptive_regex given, columns matching regular expression datasets compared, warning given, values columns match. intended compare descriptive statistics results unchanged analysis methods ensure, results stem exact replication simulation results.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Merge results from additional or updated simulations — upsert_merge","text":"upsert_merge(): Update add Rows Columns","code":""},{"path":"https://simnph.github.io/SimNPH/reference/merge_additional_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge results from additional or updated simulations — upsert_merge","text":"","code":"a <- data.frame(x=5:2, y=5:2, a=5:2) b <- data.frame(x=1:4, y=1:4+10, b=1:4*10) upsert_merge(a, b, by=\"x\") #>   x  y  a  b #> 1 5  5  5 NA #> 2 4 14  4 40 #> 3 3 13  3 30 #> 4 2 12  2 20 #> 5 1 11 NA 10 if (FALSE) { old <- readRDS(\"old_results.Rds\") new <- readRDS(\"new_results.Rds\") combined <- merge_additional_results(old, new) }"},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"Fast implementation hazard, cumulative hazard, ... mixtures subpopulations","code":""},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"","code":"mixture_haz_fun(p, pdfs, survs)  mixture_cumhaz_fun(p, survs)  mixture_cdf_fun(p, cdfs)  mixture_pdf_fun(p, pdfs)  mixture_surv_fun(p, survs)  mixture_quant_fun(p, cdfs, quants)  mixture_rng_fun(p, rngs)"},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"p vector probabilities mixture pdfs list probability density functions mixture components survs list survuval functions mixture components cdfs list cumulative density functions mixture components quants list quantile functions mixture components rngs random number generating functions components","code":""},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"function one parameter, vector times function evaluated.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"last time interval extends +Inf mixture_quant_fun relies numeric root finding therefore fast fast_quant_fun. contrast fast_rng_fun mixture_rng fun rely quantile function samples counts respective mixtures multinomial distribution parameter p samples components shuffles result. faster, since quantile function relies numeric root finding point.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"mixture_haz_fun(): hazard function mixture mixture_cumhaz_fun(): cumulative hazard function mixture mixture_cdf_fun(): cumulative density function mixture mixture_pdf_fun(): probability density function mixture mixture_surv_fun(): survival function mixture mixture_quant_fun(): quantile function mixture mixture_rng_fun(): quantile function mixture","code":""},{"path":"https://simnph.github.io/SimNPH/reference/mixture_haz_fun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fast implementation of hazard, cumulative hazard, ... for mixtures of subpopulations — mixture_haz_fun","text":"","code":"haz <- mixture_haz_fun(   p = c(0.3, 0.7),   pdfs = list(     fast_pdf_fun(0, 0.1),     fast_pdf_fun(c(0,5), c(0.1, 0.12))   ),   survs = list(     fast_surv_fun(0, 0.1),     fast_surv_fun(c(0,5), c(0.1, 0.12))   ) ) plot(haz(seq(0, 30, by=0.15)), ylim=c(0, 0.2), type=\"l\") abline(h=0)  cumhaz <- mixture_cumhaz_fun(   p = c(0.3, 0.7),   survs = list(     fast_surv_fun(0, 0.1),     fast_surv_fun(c(0,5), c(0.1, 0.12))   ) ) plot(cumhaz(seq(0, 30, by=0.15)), type=\"l\")  cdf <- mixture_cdf_fun(   p = c(0.3, 0.7),   cdfs = list(     fast_cdf_fun(0, 0.1),     fast_cdf_fun(c(0,5), c(0.1, 0.12))   ) ) plot(cdf(seq(0, 30, by=0.15)), type=\"l\")  pdf <- mixture_pdf_fun(   p = c(0.3, 0.7),   pdfs = list(     fast_pdf_fun(0, 0.1),     fast_pdf_fun(c(0,5), c(0.1, 0.12))   ) ) plot(pdf(seq(0, 30, by=0.15)), type=\"l\")  surv <- mixture_surv_fun(   p = c(0.3, 0.7),   survs = list(     fast_surv_fun(0, 0.1),     fast_surv_fun(c(0,5), c(0.1, 0.12))   ) ) plot(surv(seq(0, 30, by=0.15)), type=\"l\")   quant <- mixture_quant_fun(   p = c(0.3, 0.7),   cdfs = list(     fast_cdf_fun(0, 0.1),     fast_cdf_fun(c(0,5), c(0.1, 0.12))   ),   quants = list(     fast_quant_fun(0, 0.1),     fast_quant_fun(c(0,5), c(0.1, 0.12))   ) )  x <- seq(0, 1, by=0.015) plot(x, quant(x), type=\"l\")  rng <- mixture_rng_fun(   p = c(0.3, 0.7),   rngs = list(     fast_rng_fun(0, 0.1),     fast_rng_fun(c(0,5), c(0.1, 0.12))   ) ) hist(rng(100))"},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":null,"dir":"Reference","previous_headings":"","what":"Functions to Convert Between Days and Months and Medians and Rates — r2m","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"functions convert days months rates medians.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"","code":"r2m(lambda)  m2r(med)  m2d(mon)  d2m(day)"},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"lambda hazard rate med median months mon time months day time days","code":""},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"median survival time months (r2m) hazard rate per day (m2r) time days (m2d) time months (d2m)","code":""},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"r2m(): daily rate median months m2r(): median months daily rate m2d(): months days d2m(): days months","code":""},{"path":"https://simnph.github.io/SimNPH/reference/r2m.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Functions to Convert Between Days and Months and Medians and Rates — r2m","text":"","code":"r2m(0.002) #> [1] 11.3864 m2r(12) #> [1] 0.001897734 m2d(1) #> [1] 30.4375 d2m(31) #> [1] 1.01848"},{"path":"https://simnph.github.io/SimNPH/reference/random_censoring_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","title":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","text":"Apply Random Exponentially Distributed Censoring","code":""},{"path":"https://simnph.github.io/SimNPH/reference/random_censoring_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","text":"","code":"random_censoring_exp(dat, rate, discrete = TRUE)"},{"path":"https://simnph.github.io/SimNPH/reference/random_censoring_exp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","text":"dat dataset apply random censoring rate time end enrollment discrete censoring times rounded whole days?","code":""},{"path":"https://simnph.github.io/SimNPH/reference/random_censoring_exp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","text":"Returns Function one argument dat modifies dataset generated generate functions censoring times setting event indicator FALSE censored observations.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/random_censoring_exp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply Random Exponentially Distributed Censoring — random_censoring_exp","text":"","code":"one_simulation <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by=NULL ) |>   head(1) |>   generate_delayed_effect() #> expand.grid( #>   delay=m2d(seq(0, 10, by=2)), # delay of 0, 1, ..., 10 months #>   hazard_ctrl=m2r(24),         # median survival control of 24 months #>   hazard_trt=m2r(36),          # median survival treatment of 36 months #>   random_withdrawal=m2r(120)   # median time to random withdrawal 10 years #> ) #> expand.grid( #>   n_trt=150,         # 150 patients in the treatment arm #>   n_ctrl=150,        # 150 patients in the control arm #>   followup=m2d(24),  # followup 2 years #>   recruitment=m2d(6) # recruitment time 6 months #>  #> )  # apply censoring to dataset censored_sim <- random_censoring_exp(one_simulation, 0.01)  # plot # uncensored (blue) observations are the same for original and modified # dataset # censored (red) observations are smaller than the uncensored ones plot(   one_simulation$t,   censored_sim$t,   col=ifelse(censored_sim$evt, \"blue\", \"red\"),   xlab = \"uncensored times\",   ylab = \"censored times\" ) abline(0,1)"},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"Rename Columns Simulation Results Update Attributes","code":""},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"","code":"rename_results_column(results, rename)  rename_results_column_pattern(results, pattern, replacement)"},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"results SimDesign object rename named vector new names pattern regexp pattern understood stringr::str_replace_all replacement replacement understood stringr::str_replace_all","code":""},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"SimDesign object updated column names","code":""},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"rename_results_column(): Rename Columns Simulation Results rename_results_column_pattern(): Rename Columns Simulation Results Pattern","code":""},{"path":"https://simnph.github.io/SimNPH/reference/rename_results_column.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rename Columns in Simulation Results and Update Attributes — rename_results_column","text":"","code":"if (FALSE) { results2 <- rename_results_column(results, c(\"old_name\"=\"new_name\")) } if (FALSE) { results2 <- rename_results_column_pattern(results, \"old_name\", \"new_name\") }"},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":null,"dir":"Reference","previous_headings":"","what":"Functions for Plotting and Reporting Results — results_pivot_longer","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"Functions Plotting Reporting Results","code":""},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"","code":"results_pivot_longer(data, exclude_from_methods = c(\"descriptive\"))  combined_plot(   data,   methods,   xvars,   yvar,   facet_x_vars = c(),   facet_y_vars = c(),   split_var = 1,   heights_plots = c(3, 1),   scale_stairs = 0.75,   grid_level = 2,   scales = \"fixed\",   hlines = numeric(0),   use_colours = NULL,   use_shapes = NULL )"},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"data combined_plto simulation results long format, returned results_pivot_longer. exclude_from_methods \"methods\" pivoted long format methods methods include plot xvars orderd vector variable names display x axis yvar variable name variable displayed y axis (metric) facet_x_vars vector variable names create columns facets facet_y_vars vector variable names create rows facets split_var index xvars along groups plot split heights_plots relative heights main plot stairs bottom scale_stairs height stairs variable 0 1 grid_level depth loops grid-lines drawn scales passed facet_grid hlines position horizontal lines, passed yintercept geom_hline use_colours optional named vector colours used scale_colour_manual use_shapes optional named vector shapes used scale_shape_manual","code":""},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"dataset long format one row per method scenario one column per metric ggplot/patchwork object conatining plots","code":""},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"exclude_from_methods descriptive statistics results reference methods can kept columns used like columns simulation parameters. use_colours use_shapes use method variable respective aesthetics.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"results_pivot_longer(): pivot simulation results long format combined_plot(): Nested Loop Plot optional Facets","code":""},{"path":"https://simnph.github.io/SimNPH/reference/results_pivot_longer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Functions for Plotting and Reporting Results — results_pivot_longer","text":"","code":"if (FALSE) { plot_data <- simulation_results |>   results_pivot_longer() } if (FALSE) { # plot the rejection rate of two methods combined_plot(   results_long,   c(\"logrank\", \"max_combo\"),   c(\"effect_size_ph\", \"delay\", \"hazard_ctrl\", \"n_pat_design\", \"recruitment\", \"censoring_prop\"),   \"rejection_0.025\",   grid_level=2 )  # use custom colour and shape scales # this can be used to group methods by shape or colour # this is also helpful if methods should have the same aesthetics across plots my_colours <- c(   logrank=\"black\",   max_combo=\"blue\",   fh_1_0=\"green\",   fh_0_1=\"red\" )  my_shapes <- c(   logrank=1,   max_combo=2,   fh_1_0=3,   fh_0_1=3 )  combined_plot(   results_long,   c(\"logrank\", \"max_combo\", \"fh_1_0\", \"fh_0_1\"),   c(\"effect_size_ph\", \"delay\", \"hazard_ctrl\", \"n_pat_design\", \"recruitment\", \"censoring_prop\"),   \"rejection_0.025\",   grid_level=2,   use_colours = my_colours,   use_shapes = my_shapes )  combined_plot(   results_long,   c(\"logrank\", \"max_combo\"),   c(\"effect_size_ph\", \"delay\", \"hazard_ctrl\", \"n_pat_design\", \"recruitment\", \"censoring_prop\"),   \"rejection_0.025\",   grid_level=2,   use_colours = my_colours,   use_shapes = my_shapes )  # if one has a dataset of metadata with categories of methods # one could uses those two definitions # colours for methods, same shapes for methods of same category my_colours <- ggplot2::scale_colour_discrete()$palette(n=nrow(metadata)) |>   sample() |>   setNames(metadata$method)  my_shapes <- metadata$category |>   as.factor() |>   as.integer() |>   setNames(metadata$method)    combined_plot( results_long, c(\"logrank\", \"max_combo\", \"fh_1_0\", \"fh_0_1\"), c(\"effect_size_ph\", \"delay\", \"hazard_ctrl\", \"n_pat_design\", \"recruitment\", \"censoring_prop\"), \"rejection_0.025\", grid_level=2, use_colours = my_colours, use_shapes = my_shapes )  combined_plot(   results_long,   c(\"logrank\", \"max_combo\"),   c(\"effect_size_ph\", \"delay\", \"hazard_ctrl\", \"n_pat_design\", \"recruitment\", \"censoring_prop\"),   \"rejection_0.025\",   grid_level=2,   use_colours = my_colours,   use_shapes = my_shapes ) }"},{"path":"https://simnph.github.io/SimNPH/reference/shhr_gg.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","title":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","text":"Plot survival, hazard hazard ratio two groups function time using ggplot patchwork","code":""},{"path":"https://simnph.github.io/SimNPH/reference/shhr_gg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","text":"","code":"shhr_gg(   A,   B,   main = NULL,   sub = NULL,   group_names = c(\"control\", \"treatment\"),   lab_time = \"Days\",   lab_group = \"Group\",   trafo_time = identity,   colours = palette()[c(1, 3)],   linetypes = c(1, 3),   linewidths = c(1.3, 1.3),   as_list = FALSE )"},{"path":"https://simnph.github.io/SimNPH/reference/shhr_gg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","text":"mixpch object group 1 (reference) B mixpch object group 2 main Title overall plot sub Subtitle overall plot group_names Group Names lab_time Title time axis lab_group Title group legend trafo_time Function transform time colours vector two colours linetypes vector two linetypes linewidths vector two linewidths as_list return list ggplot objects instead patchwork object","code":""},{"path":"https://simnph.github.io/SimNPH/reference/shhr_gg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","text":"patchwork object defined patchwork package list ggplot objects as_list=TRUE.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/shhr_gg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot of survival, hazard and hazard ratio of two groups as a function of time using ggplot and patchwork — shhr_gg","text":"","code":"if (FALSE) { library(ggplot2) library(patchwork) B <- pchaz(c(0, 10, 100), c(0.1, 0.05)) A <- pchaz(c(0, 100), c(0.1)) shhr_gg(A, B) shhr_gg(A, B, lab_time=\"Months\", trafo_time=d2m) }"},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic Summarise function for esitmators — summarise_estimator","title":"Generic Summarise function for esitmators — summarise_estimator","text":"Generic Summarise function esitmators","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic Summarise function for esitmators — summarise_estimator","text":"","code":"summarise_estimator(   est,   real,   lower = NULL,   upper = NULL,   null = NULL,   est_sd = NULL,   name = NULL )"},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic Summarise function for esitmators — summarise_estimator","text":"est estimator, expression evaluated results real real summary statistic, expression evaluated condition lower lower CI, expression evaluated results upper upper CI, expression evaluated results null parameter value null hypothesis est_sd standard deviation estimated method, evaluated results name name summarise function, appended name analysis method final results","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic Summarise function for esitmators — summarise_estimator","text":"function can used Summarise returns data frame summary statistics performance measures columns.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generic Summarise function for esitmators — summarise_estimator","text":"different parameters evaluated different envionments, est, lower, upper, est_sd refer output method evaluated results dataset. real refers real value summary statistic scenario therefore evaluated condition dataset. null name constants directly evaluated function defined. argument null, parameter value null hypothesis used output rejection rate based confidence intervall. output column null_cover","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_estimator.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generic Summarise function for esitmators — summarise_estimator","text":"","code":"if (FALSE) { # generate the design matrix and append the true summary statistics condition <- merge(     assumptions_delayed_effect(),     design_fixed_followup(),     by=NULL   ) |>   tail(4) |>   head(1) |>   true_summary_statistics_delayed_effect(cutoff_stats = 15)  # create some summarise functions summarise_all <- create_summarise_function(   coxph=summarise_estimator(hr, gAHR, hr_lower, hr_upper, name=\"aAHR\"),   coxph=summarise_estimator(hr, hazard_trt/hazard_ctrl, hr_lower, hr_upper, name=\"HR\"),   coxph=summarise_estimator(exp(coef), gAHR),   coxph=summarise_estimator(hr, NA_real_) )  # runs simulations sim_results <- runSimulation(   design=condition,   replications=10,   generate=generate_delayed_effect,   analyse=list(     coxph=analyse_coxph()   ),   summarise = summarise_all )  # mse is missing for the summarise function in which the real value was NA sim_results[, names(sim_results) |> grepl(pattern=\"mse\")] # but the variance can be estimated in all cases sim_results[, names(sim_results) |> grepl(pattern=\"var\")] }"},{"path":"https://simnph.github.io/SimNPH/reference/summarise_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic summarise function for tests — summarise_test","title":"Generic summarise function for tests — summarise_test","text":"Generic summarise function tests","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic summarise function for tests — summarise_test","text":"","code":"summarise_test(alpha, name = NULL)"},{"path":"https://simnph.github.io/SimNPH/reference/summarise_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic summarise function for tests — summarise_test","text":"alpha significance level(s) name name summarise function, appended name analysis method final results","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic summarise function for tests — summarise_test","text":"function can used Summarise returns data frame columns rejection_X rejection_Y ... X, Y, ... alpha levels given argument","code":""},{"path":"https://simnph.github.io/SimNPH/reference/summarise_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generic summarise function for tests — summarise_test","text":"","code":"if (FALSE) { condition <- merge(   assumptions_delayed_effect(),   design_fixed_followup(),   by=NULL ) |>   tail(4) |>   head(1)  summarise_all <- create_summarise_function(   logrank=summarise_test(alpha=c(0.5, 0.9, 0.95, 0.99)) )  # runs simulations sim_results <- runSimulation(   design=condition,   replications=100,   generate=generate_delayed_effect,   analyse=list(     logrank=analyse_logrank()   ),   summarise = summarise_all )  sim_results[, grepl(\"rejection\", names(sim_results))] }"},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrappers around Analyse Functions — wrap_all_in_trycatch","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"Wrappers around Analyse Functions","code":""},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"","code":"wrap_all_in_trycatch(   list_of_functions,   error = function(e) {      warning(e$message)      NA  } )  wrap_all_in_preserve_seed(list_of_functions)"},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"list_of_functions list functions wrapped error error function tryCatch call","code":""},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"list functions","code":""},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"SimDesign redraws data one analysis function fails. highly inefficient large studies, failure method informative might interest. Moreover redrawing data might introduce bias failure method independent parameter value, strong assumption. avoid redrawing data, can catch errors analysis methods throw return NA instead. handled well summarise functions generated create_summarise_function summarise functions might throw errors trying rbind data.frame scalar NA value. case add another error argument. example \\(e){NULL} work cases, cases give function returns data.frame columns analyse functions NA values. Analysis functions might use random numbers. simulations replicated can interfere RNG state analysis functions. avoid can wrap analysis function withr::with_preserve_seed call, RNG state reset analysis function called. way adding, removing changing one analysis function effect analysis functions, even analysis functions use random numbers.","code":""},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"wrap_all_in_trycatch(): Wrap functions list tryCatch calls wrap_all_in_preserve_seed(): wrap functions withr::with_preserve_seed","code":""},{"path":"https://simnph.github.io/SimNPH/reference/wrap_all_in_trycatch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrappers around Analyse Functions — wrap_all_in_trycatch","text":"","code":"funs1 <- list(\\(){stop(\"test\")}, \\(){1}) funs2 <- wrap_all_in_trycatch(funs1) if (FALSE) { lapply(funs1, \\(f){f()}) } lapply(funs2, \\(f){f()}) #> Warning: test #> [[1]] #> [1] NA #>  #> [[2]] #> [1] 1 #>   funs1 <- list(\\(){rnorm(1)}) funs2 <- list(\\(){runif(1)}, \\(){rnorm(1)}) funs3 <- funs2 |> wrap_all_in_preserve_seed() set.seed(1) lapply(funs1, \\(f){f()}) #> [[1]] #> [1] -0.6264538 #>  set.seed(1) lapply(funs2, \\(f){f()}) #> [[1]] #> [1] 0.2655087 #>  #> [[2]] #> [1] -0.3262334 #>  set.seed(1) lapply(funs3, \\(f){f()}) #> [[1]] #> [1] 0.2655087 #>  #> [[2]] #> [1] -0.6264538 #>"},{"path":"https://simnph.github.io/SimNPH/news/index.html","id":"simnph-043","dir":"Changelog","previous_headings":"","what":"SimNPH 0.4.3","title":"SimNPH 0.4.3","text":"Added workaround bug nph package, package longer requires custom patched version nph work.","code":""},{"path":"https://simnph.github.io/SimNPH/news/index.html","id":"simnph-042","dir":"Changelog","previous_headings":"","what":"SimNPH 0.4.2","title":"SimNPH 0.4.2","text":"Built first version pkdown Site","code":""}]
